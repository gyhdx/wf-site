import{_ as p}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as o,c as i,o as c,b as s,a as l,e as a,d as t}from"./app-DBc2jY3V.js";const u="/wf-site/assets/202301160101403-B_myDu2d.png",d="/wf-site/assets/202301160059134-B4BHi3gO.png",r="/wf-site/assets/202301160206892-q8iCbB4-.png",k="/wf-site/assets/202301160143898-DHGwGkaj.png",g="/wf-site/assets/202301160144300-WzcxCZEG.png",m={},v={href:"https://www.qt.io/",target:"_blank",rel:"noopener noreferrer"},y={href:"https://doc.qt.io/qtforpython/api.html",target:"_blank",rel:"noopener noreferrer"};function b(f,n){const e=o("ExternalLinkIcon");return c(),i("div",null,[n[2]||(n[2]=s("h1",{id:"_01-主要模组简介绍及安装与配置环境",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_01-主要模组简介绍及安装与配置环境","aria-hidden":"true"},"#"),a(" 01.主要模组简介绍及安装与配置环境")],-1)),n[3]||(n[3]=s("p",null,"在Qt官网的介绍中，PyQt包括三个主要的基础模组。",-1)),n[4]||(n[4]=s("ul",null,[s("li",null,"QtCore：提供核心非 GUI 功能，如信号和 槽、属性、项目模型的基类、 序列化等。"),s("li",null,"QtGui：使用GUI功能扩展QtCore：事件，窗口 和屏幕，OpenGL和基于光栅的2D绘画，如 以及图像。"),s("li",null,"QtWidgets：为您的应用程序提供现成的小部件， 包括 UI 的图形元素。")],-1)),n[5]||(n[5]=s("p",null,[s("strong",null,"调用方式")],-1)),n[6]||(n[6]=s("p",null,"如果需要调用某个模块，可以先在官网搜索该模块所在的基础模块，在程序中按以上的方式对应调用即可。",-1)),s("p",null,[s("a",v,[n[0]||(n[0]=a("QT 官网")),t(e)])]),s("p",null,[s("a",y,[n[1]||(n[1]=a("QT for python")),t(e)])]),n[7]||(n[7]=l(`<div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> PySide6<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">from</span> PySide6<span class="token punctuation">.</span>QtGui <span class="token keyword">import</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">from</span> PySide6<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="安装与环境配置" tabindex="-1"><a class="header-anchor" href="#安装与环境配置" aria-hidden="true">#</a> 安装与环境配置</h1><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装" aria-hidden="true">#</a> 安装</h2><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>pip install <span class="token operator">-</span>i https<span class="token punctuation">:</span><span class="token operator">//</span>pypi<span class="token punctuation">.</span>tuna<span class="token punctuation">.</span>tsinghua<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn<span class="token operator">/</span>simple<span class="token operator">/</span> pyside6
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>安装PySide6时就已经安装Qt Designer、uic和rcc工具。我们只需要在PyCharm里配置一下即可。</p><h2 id="配置" tabindex="-1"><a class="header-anchor" href="#配置" aria-hidden="true">#</a> 配置</h2><p>使用<code>PyCharm</code>集成开发工具,在安装 <code>QtTools</code>库以后,还要对 <code>QtDesigner</code>和 <code>PyUIC</code>进行环境配置,将其集成到 <code>PyCharm</code>中</p><figure><img src="`+u+'" alt="image-20230109003938283" tabindex="0" loading="lazy"><figcaption>image-20230109003938283</figcaption></figure><h3 id="qtdesigner" tabindex="-1"><a class="header-anchor" href="#qtdesigner" aria-hidden="true">#</a> QtDesigner</h3><p>Qt Designer是PyQt和PySide通用的工具,通过拖拽窗口部件和属性编辑完成GUI的设计工作,保存为*.ui文件</p><p>拷到项目中使用。</p><p>安装完 <code>pyside6</code>直接在命令行运行 <code>pyside6-designer</code>即可打开 <code>designer</code></p><p>从顶部菜单栏选择:<code>File -&gt; Settings</code>,弹出 <code>Seetings</code>窗口；选择:<code>Tools -&gt; ExternalTools</code>,在右侧点击 &quot;+&quot; 弹出 <code>CreateTool</code>窗口</p><figure><img src="'+d+`" alt="image-20230116005934006" tabindex="0" loading="lazy"><figcaption>image-20230116005934006</figcaption></figure><ul><li><p><code>Name</code>:填写 <code>QtDesigner</code>,标识作用</p></li><li><p><code>Program</code>:填写 <code>designer.exe</code> 的路径,例如 <code>F:\\ProgramData\\miniconda3\\envs\\notes\\Scripts\\pyside6-designer.exe</code></p></li><li><p><code>Arguments</code>:不用填写</p></li><li><p><code>Working directory</code>:填写生成 UI 文件的保存路径</p><ul><li>要将 <code>.ui</code>文件保存在当前\`\`Project <code>路径下,则填写</code>$ProjectFileDir$\`</li><li>要将 <code>.ui</code>文件保存在当前 <code>Project</code>路径下,<code>\\program</code> 子目录中,则填 <code>$FileDir$</code></li></ul></li></ul><p>在项目名称(新建ui时)或你要编辑的ui文件上打开右键菜单,找到External Tools(或你设置的Group名称),打开PySide6 QtDesinger。</p><p>可以通过uic工具转成py文件使用,也可以通过以下代码调用</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> sys

<span class="token keyword">from</span> PySide6<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> QFile<span class="token punctuation">,</span> QIODevice
<span class="token keyword">from</span> PySide6<span class="token punctuation">.</span>QtUiTools <span class="token keyword">import</span> QUiLoader
<span class="token keyword">from</span> PySide6<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&quot;__main__&quot;</span><span class="token punctuation">:</span>

    app<span class="token operator">=</span>QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

    ui_file_name<span class="token operator">=</span><span class="token string">&quot;01-窗口创建/demo.ui&quot;</span>
    ui_file<span class="token operator">=</span>QFile<span class="token punctuation">(</span>ui_file_name<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> ui_file<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span>QIODevice<span class="token punctuation">.</span>ReadOnly<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;Cannot open </span><span class="token interpolation"><span class="token punctuation">{</span>ui_file_name<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>ui_file<span class="token punctuation">.</span>errorString<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
    loader<span class="token operator">=</span>QUiLoader<span class="token punctuation">(</span><span class="token punctuation">)</span>
    window<span class="token operator">=</span>loader<span class="token punctuation">.</span>load<span class="token punctuation">(</span>ui_file<span class="token punctuation">)</span>
    ui_file<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> window<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span>loader<span class="token punctuation">.</span>errorString<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
    window<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="pyuic" tabindex="-1"><a class="header-anchor" href="#pyuic" aria-hidden="true">#</a> PyUIC</h3><p>pyuic安装在 <code>Scripts</code>目录下,对应 <code>pyside6-uic.exe</code></p><figure><img src="`+r+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>PyUIC将QtDesigner生成的ui文件转换为py文件</p><p>从顶部菜单栏选择:<code>File -&gt; Settings</code>,弹出 <code>Seetings</code>窗口；选择:<code>Tools -&gt; ExternalTools</code>,在右侧点击 &quot;+&quot; 弹出 <code>CreateTool</code>窗口</p><p>CreateTool 窗口依次填写:</p><ul><li><code>Name</code>:填写 <code>PyUIC</code>,标识作用</li><li><code>Program</code>:填写 <code>pyside6-uic</code> 的路径,需要区分虚拟环境和系统环境 <code>F:\\ProgramData\\miniconda3\\envs\\notes\\Scripts\\pyside6-uic.exe</code></li><li><code>Arguments</code>:填写 <code>$FileName$ -o ui_$FileNameWithoutExtension$.py</code></li><li><code>Working directory</code>:填写将 .ui 文件转换为 .py 文件的保存路径,填写 <code>$FileDir$</code></li></ul><p>在要转换的ui文件上点击右键,在右键菜单里使用上述配置好的uic工具即可转换为同名的py文件。</p><h3 id="pyrcc" tabindex="-1"><a class="header-anchor" href="#pyrcc" aria-hidden="true">#</a> PyRCC</h3><p>Program中配置的是pyside6-rcc.exe的文件路径</p><p>F:\\ProgramData\\miniconda3\\envs\\notes\\Scripts\\pyside6-rcc.exe</p><figure><img src="'+k+`" alt="image-20230116012639083" tabindex="0" loading="lazy"><figcaption>image-20230116012639083</figcaption></figure><ul><li><code>Name</code>:填写 <code>PyRCC</code></li><li><code>Program</code>:填写 <code>pyside6-rcc</code> 的路径,<code>F:\\ProgramData\\miniconda3\\envs\\notes\\Scripts\\pyside6-rcc.exe</code></li><li><code>Arguments</code>中填写 <code>$FileName$ -o rcc_$FileNameWithoutExtension$.py</code></li><li><code>Working directory</code>中填写 <code>$FileDir$</code></li></ul><p>新建一个resource.qrc文件,把用到的图片资源写到配置文件里</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">RCC</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RCC</span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>qresource</span><span class="token punctuation">&gt;</span></span> 

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>file</span> <span class="token attr-name">alias</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>contacts.png<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ico/contacts.png<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>file</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>file</span> <span class="token attr-name">alias</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>exit.png<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ico/exit.png<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>file</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>file</span> <span class="token attr-name">alias</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>about.png<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ico/about.png<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>file</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>file</span> <span class="token attr-name">alias</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>config.png<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ico/config.png<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>file</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>file</span> <span class="token attr-name">alias</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>help.png<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ico/help.png<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>file</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>qresource</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RCC</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>也可以用Qt Designer右下角的资源编辑器进行编辑</p><figure><img src="`+g+`" alt="image-20230116013508159" tabindex="0" loading="lazy"><figcaption>image-20230116013508159</figcaption></figure><p>编辑保存后,到PyCharm中在要转换的qrc文件上点击右键,在右键菜单里使用上述配置好的rcc工具即可转换为同名的py文件。</p><p>引用py文件中的资源使用的时候用冒号加图片路径,如:</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>QtGui<span class="token punctuation">.</span>Qpixmap<span class="token punctuation">(</span><span class="token string">&#39;:images/file.png&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>要把程序打包成可执行文件的时候,先把资源文件转成py后调用就方便多了。</p>`,39))])}const _=p(m,[["render",b],["__file","01主要模组简介绍.html.vue"]]);export{_ as default};
