import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,o as a,a as n}from"./app-DBc2jY3V.js";const r="/wf-site/assets/image-20240617153541668-CqgFDOIb.png",g="/wf-site/assets/image-20240617195251634-De0U2jXA.png",s="/wf-site/assets/image-20240617195311640-DzXK7F9u.png",d="/wf-site/assets/image-20240617195930557-AyNn7naC.png",l="/wf-site/assets/image-20240617200028031-1718625628492-1-2XdyrFaV.png",p="/wf-site/assets/image-20240617200119575-BPSA6DUz.png",c="/wf-site/assets/image-20240617200310397-DLKUxR86.png",o="/wf-site/assets/image-20240617200352866-BC_APSUs.png",f="/wf-site/assets/image-20240617200511452-DwkSwf5M.png",m="/wf-site/assets/image-20240617200534807-Dh36r5vx.png",h="/wf-site/assets/image-20240617200617283-DORwcR8j.png",x="/wf-site/assets/image-20240617200753602-CFGMK9-z.png",y="/wf-site/assets/image-20240617200811640-34P6F3-g.png",u="/wf-site/assets/image-20240617195335932-BCg3AfhJ.png",b="/wf-site/assets/image-20240617195422891-Bq6gjaIE.png",_="/wf-site/assets/image-20240617195626849-Dalg_gTE.png",D="/wf-site/assets/image-20240617195635624-z5KAcD_s.png",S="/wf-site/assets/image-20240617213239703--f7vqD-m.png",O="/wf-site/assets/image-20240617214134505-Dqbxi1O0.png",M="/wf-site/assets/image-20240617214239050-CFbcG6D1.png",N="/wf-site/assets/image-20240617214454533-B0ot_MFq.png",w="/wf-site/assets/image-20240617214509185-D_uqTiWx.png",z="/wf-site/assets/image-20240617214519067-DxkoIfLc.png",C="/wf-site/assets/image-20240617214549743-D2PmNMod.png",B="/wf-site/assets/image-20240617214809617-CxyyXsLa.png",F="/wf-site/assets/image-20240617214952864-BOqPYxja.png",R="/wf-site/assets/image-20240618091522481-CtaLZwFy.png",I="/wf-site/assets/image-20240618094503185-CrSolDLf.png",T="/wf-site/assets/image-20240618094923540-B1HmbkLA.png",H="/wf-site/assets/image-20240618095002852-BCPCe00y.png",A="/wf-site/assets/image-20240618095059735-24T3Vho-.png",P="/wf-site/assets/image-20240618095135084-Bi5ly0lt.png",L="/wf-site/assets/image-20240618095514154-Ccdyd_Ko.png",K="/wf-site/assets/image-20240618095551948-DGpetvRD.png",X="/wf-site/assets/image-20240618095535451-lGRjJRMn.png",E="/wf-site/assets/image-20240618095838208-brleKvjG.png",W="/wf-site/assets/image-20240618095859306-DBroQaPf.png",v="/wf-site/assets/image-20240618095927360-jVkMQE5w.png",U="/wf-site/assets/Snipaste_2024-06-18_10-02-10-CfD-ltqO.png",V="/wf-site/assets/image-20240618100309953-dAXdEYT3.png",Y="/wf-site/assets/image-20240618100732587-bc3W-Ckw.png",k="/wf-site/assets/image-20240618101021408-DtnXYC3t.png",q="/wf-site/assets/image-20240618101114122-BBvGbgf1.png",j="/wf-site/assets/image-20240618101144156-27vQzCQ1.png",Z="/wf-site/assets/image-20240618101245741-CBooXtch.png",Q="/wf-site/assets/image-20240618101313286-CeyVrXMb.png",G="/wf-site/assets/image-20240618101420146-DXCH-QnY.png",J="/wf-site/assets/image-20240618101449504-CTH7DfKE.png",$="/wf-site/assets/image-20240618101510732-B7Nksh9G.png",tt="/wf-site/assets/image-20240618101832581-0RSlROJZ.png",et="/wf-site/assets/image-20240618101906492-DxPwQ7e0.png",it="/wf-site/assets/image-20240618102023259-IIKPrkP_.png",at="/wf-site/assets/image-20240618102142713-C0CYrm7r.png",nt="/wf-site/assets/image-20240618102242057-DjDc2Qhu.png",rt="/wf-site/assets/image-20240618102302420-BHKbIJQo.png",gt="/wf-site/assets/image-20240618102329647-ZZ6l-M2f.png",st="/wf-site/assets/image-20240620104303874-BmgBgqO2.png",dt="/wf-site/assets/image-20240620104342610-EBFjFIWt.png",lt="/wf-site/assets/image-20240620104824494-CEiCZ-xH.png",pt="/wf-site/assets/image-20240620104850742-CDX81Buv.png",ct="/wf-site/assets/image-20240620104928781-Bub-ZjZk.png",ot="/wf-site/assets/image-20240620104943574-CWRun_v-.png",ft="/wf-site/assets/image-20240620105030643-BtvZDjrS.png",mt="/wf-site/assets/image-20240620105101081-CuY8ZaA0.png",ht="/wf-site/assets/image-20240620105122195-eU3DP4C6.png",xt="/wf-site/assets/image-20240620105258617-DmtHo4Oe.png",yt="/wf-site/assets/image-20240620105317888-Br6IDkfs.png",ut="/wf-site/assets/image-20240620105353547-8i5kqWkB.png",bt="/wf-site/assets/image-20240620105408662-AT9LQwpb.png",_t="/wf-site/assets/image-20240620105455043-BRKqDjHl.png",Dt="/wf-site/assets/image-20240620105529848-lRWHNF-K.png",St="/wf-site/assets/image-20240620105557448-BKd98AQD.png",Ot="/wf-site/assets/Snipaste_2024-06-20_10-56-17-DqABjyuN.png",Mt="/wf-site/assets/image-20240620105805612-DuHVWmec.png",Nt="/wf-site/assets/image-20240620110304234-BzFqPy5Y.png",wt="/wf-site/assets/image-20240620110322858-OOcghjPw.png",zt="/wf-site/assets/image-20240620110347995-CPNcmKIs.png",Ct="/wf-site/assets/image-20240620110403801-CzNIzM_F.png",Bt="/wf-site/assets/image-20240620110536773-4RiA3rm-.png",Ft="/wf-site/assets/image-20240620110550721-NkR9wlOr.png",Rt="/wf-site/assets/image-20240620110557361-B5FAI44K.png",It="/wf-site/assets/image-20240620110617324-CbWTgCB9.png",Tt="/wf-site/assets/image-20240620110642542-BUbIPWZ8.png",Ht="/wf-site/assets/image-20240620111016887-CfrOl5US.png",At="/wf-site/assets/image-20240620111042037-peWGPGYw.png",Pt="/wf-site/assets/image-20240620111850742-1oUwNDnO.png",Lt="data:image/png;base64,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",Kt="/wf-site/assets/image-20240620111950543-7zIqB6hO.png",Xt="/wf-site/assets/image-20240620112029460-B3_lr-Zm.png",Et="/wf-site/assets/image-20240620112044170-6u7L3gBK.png",Wt="/wf-site/assets/image-20240620112100216-lb6k1ftL.png",vt="/wf-site/assets/image-20240620112158961-jjc7wzTH.png",Ut="/wf-site/assets/image-20240620112247411-DF49z9qP.png",Vt="/wf-site/assets/image-20240620112314747-l4oLwvN8.png",Yt="/wf-site/assets/image-20240620112328709-CEjYhHbi.png",kt="/wf-site/assets/image-20240620112355498-5t6r8-Es.png",qt="/wf-site/assets/Snipaste_2024-06-20_11-27-12-Ce-r-XG3.png",jt="/wf-site/assets/image-20240620112804270-oty8nf8L.png",Zt="/wf-site/assets/Snipaste_2024-06-20_11-28-40-DoWUZm86.png",Qt="/wf-site/assets/image-20240620113021515-Btnpd1nX.png",Gt="/wf-site/assets/image-20240620113147612-YAd3pBax.png",Jt="/wf-site/assets/image-20240617133432563-DDSp23XH.png",$t="/wf-site/assets/image-20240617133553938-DDBT5i3G.png",te="/wf-site/assets/image-20240620113245374-DE72bSQQ.png",ee="/wf-site/assets/image-20240620113335793-CxKoDkap.png",ie="/wf-site/assets/image-20240620113410265-Ct1q86lQ.png",ae="/wf-site/assets/image-20240620113449810-YFq4dGeu.png",ne="/wf-site/assets/image-20240620113503729-Chj2E-OE.png",re="/wf-site/assets/image-20240620113640651-DdJGV8KT.png",ge="/wf-site/assets/image-20240620113740062-BDWBRMu7.png",se="/wf-site/assets/image-20240620113756294-D_hx-IRm.png",de="/wf-site/assets/image-20240620113905516-DV5H1-Di.png",le="/wf-site/assets/image-20240627134314359-BoaCqcHX.png",pe="/wf-site/assets/image-20240627135151174-BsriSSMO.png",ce="/wf-site/assets/image-20240627135200571-BXGE7ek2.png",oe="/wf-site/assets/Snipaste_2024-06-27_13-52-14-DHlJ7xVB.png",fe="/wf-site/assets/image-20240627135514635-CAFMH1p7.png",me="/wf-site/assets/image-20240627135552301-BkMYy0z_.png",he="/wf-site/assets/image-20240627135840686-CJUxsK1d.png",xe="/wf-site/assets/Snipaste_2024-06-27_13-59-59-pYfq6T66.png",ye="/wf-site/assets/image-20240627140028839-CTQJL0h-.png",ue="/wf-site/assets/image-20240627140118849-DkchVVnh.png",be="/wf-site/assets/image-20240627140128797-BCiBDuid.png",_e="/wf-site/assets/image-20240627140151428-sClbM-qO.png",De="/wf-site/assets/image-20240627140222003-4mZMqtu0.png",Se="/wf-site/assets/image-20240627140239474-fFLeN_ZT.png",Oe="/wf-site/assets/image-20240627140251504-CJf6PWOU.png",Me="/wf-site/assets/image-20240627140404481-D9J2G5CI.png",Ne="/wf-site/assets/image-20240627140458810-D10VdsjG.png",we="/wf-site/assets/image-20240627140525495-DMGciNyh.png",ze="/wf-site/assets/image-20240627140542838-DtvCq2Qk.png",Ce="/wf-site/assets/Snipaste_2024-06-27_14-05-51-BmhbJ1Ht.png",Be="/wf-site/assets/image-20240627140634401-Buluywuq.png",Fe="/wf-site/assets/image-20240627140720310-CP_57eeO.png",Re="/wf-site/assets/image-20240627140730166-CarsDcNe.png",Ie="/wf-site/assets/image-20240619140617574-BsOR1uHN.png",Te="/wf-site/assets/image-20240619140656813-CTSFHX6G.png",He="/wf-site/assets/image-20240619140725191-Chvn47Ym.png",Ae="/wf-site/assets/image-20240619140827155-DWI3MO6D.png",Pe="/wf-site/assets/image-20240619140910660-CkDGlzN-.png",Le="/wf-site/assets/image-20240627141559118-DnzM18wh.png",Ke="/wf-site/assets/image-20240627141930966-RNY6MM8G.png",Xe="/wf-site/assets/Snipaste_2024-06-27_14-23-20-CooQ8FCa.png",Ee="/wf-site/assets/image-20240627142352613-BgVIokxA.png",We="/wf-site/assets/image-20240627142553577-B7l8bllv.png",ve="/wf-site/assets/Snipaste_2024-06-27_14-26-05-CnevgmC_.png",Ue={};function Ve(Ye,t){return a(),i("div",null,t[0]||(t[0]=[n('<h1 id="_1-程序逻辑指令" tabindex="-1"><a class="header-anchor" href="#_1-程序逻辑指令" aria-hidden="true">#</a> 1.程序逻辑指令</h1><figure><img src="'+r+'" alt="image-20240617153541668" tabindex="0" loading="lazy"><figcaption>image-20240617153541668</figcaption></figure><h3 id="_1触点指令" tabindex="-1"><a class="header-anchor" href="#_1触点指令" aria-hidden="true">#</a> 1触点指令</h3><table><thead><tr><th style="text-align:center;">指令</th><th style="text-align:center;">功能</th></tr></thead><tbody><tr><td style="text-align:center;">LD</td><td style="text-align:center;">加载常开接点</td></tr><tr><td style="text-align:center;">LDI</td><td style="text-align:center;">加载常闭接点</td></tr><tr><td style="text-align:center;">AND</td><td style="text-align:center;">串联常开接点</td></tr><tr><td style="text-align:center;">ANI</td><td style="text-align:center;">串联常闭接点</td></tr><tr><td style="text-align:center;">OR</td><td style="text-align:center;">并联常开接点</td></tr><tr><td style="text-align:center;">ORI</td><td style="text-align:center;">并联常闭接点</td></tr><tr><td style="text-align:center;">LDP</td><td style="text-align:center;">取脉冲上升沿</td></tr><tr><td style="text-align:center;">LDF</td><td style="text-align:center;">取脉冲下降沿</td></tr><tr><td style="text-align:center;">ANDP</td><td style="text-align:center;">与脉冲上升沿检测串行连接</td></tr><tr><td style="text-align:center;">ANDF</td><td style="text-align:center;">与脉冲(F)下降沿检测串行连接</td></tr><tr><td style="text-align:center;">ORP</td><td style="text-align:center;">或脉冲上升沿检测并行连接</td></tr><tr><td style="text-align:center;">ORF</td><td style="text-align:center;">或脉冲(F)下降沿检测并行连接</td></tr><tr><td style="text-align:center;">INV</td><td style="text-align:center;">运算结果取反</td></tr><tr><td style="text-align:center;">BLD</td><td style="text-align:center;">位数据位触点</td></tr><tr><td style="text-align:center;">BLDI</td><td style="text-align:center;">位数据位反触点</td></tr><tr><td style="text-align:center;">BAND</td><td style="text-align:center;">位数据位与触点</td></tr><tr><td style="text-align:center;">BANI</td><td style="text-align:center;">位数据位与非触点</td></tr><tr><td style="text-align:center;">BOR</td><td style="text-align:center;">位数据位或触点</td></tr><tr><td style="text-align:center;">BORI</td><td style="text-align:center;">位数据位或非触点</td></tr></tbody></table><h3 id="_2结合指令" tabindex="-1"><a class="header-anchor" href="#_2结合指令" aria-hidden="true">#</a> 2结合指令</h3><table><thead><tr><th style="text-align:center;">指令名称</th><th style="text-align:center;">功能</th></tr></thead><tbody><tr><td style="text-align:center;">ANB</td><td style="text-align:center;">串联回路方块</td></tr><tr><td style="text-align:center;">ORB</td><td style="text-align:center;">并联回路方块</td></tr><tr><td style="text-align:center;">MPS</td><td style="text-align:center;">存入堆栈</td></tr><tr><td style="text-align:center;">MRD</td><td style="text-align:center;">读出堆栈（能流指针不变）</td></tr><tr><td style="text-align:center;">MPP</td><td style="text-align:center;">读出堆栈</td></tr><tr><td style="text-align:center;">MEP</td><td style="text-align:center;">能流沿控制，运算结果脉冲化</td></tr><tr><td style="text-align:center;">MEF</td><td style="text-align:center;">能流沿控制，运算结果脉冲化</td></tr></tbody></table><h3 id="_3输出指令" tabindex="-1"><a class="header-anchor" href="#_3输出指令" aria-hidden="true">#</a> 3输出指令</h3><table><thead><tr><th style="text-align:center;">指令名称</th><th style="text-align:center;">指令功能</th></tr></thead><tbody><tr><td style="text-align:center;">OUT</td><td style="text-align:center;">驱动线圈</td></tr><tr><td style="text-align:center;">SET</td><td style="text-align:center;">置位动作保存线圈指令</td></tr><tr><td style="text-align:center;">RST</td><td style="text-align:center;">接点或缓存器清除</td></tr><tr><td style="text-align:center;">PLS</td><td style="text-align:center;">脉冲上升沿检测线圈指令</td></tr><tr><td style="text-align:center;">PLF</td><td style="text-align:center;">脉冲(F)下降沿检测线圈指令</td></tr><tr><td style="text-align:center;">ZSET</td><td style="text-align:center;">全部数据置位指令</td></tr><tr><td style="text-align:center;">DSIT</td><td style="text-align:center;">两段速最大定长的中断定位指令</td></tr><tr><td style="text-align:center;">PLSNA</td><td style="text-align:center;">PLSNA多段速绝对位置脉冲输出指令</td></tr><tr><td style="text-align:center;">ALT</td><td style="text-align:center;">交替输出</td></tr><tr><td style="text-align:center;">BOUT</td><td style="text-align:center;">位数据输出</td></tr><tr><td style="text-align:center;">BSET</td><td style="text-align:center;">位数据置位</td></tr><tr><td style="text-align:center;">BRST</td><td style="text-align:center;">位数据复位</td></tr></tbody></table><h3 id="_4其他指令" tabindex="-1"><a class="header-anchor" href="#_4其他指令" aria-hidden="true">#</a> 4其他指令</h3><table><thead><tr><th style="text-align:center;">指令名称</th><th style="text-align:center;">指令功能</th></tr></thead><tbody><tr><td style="text-align:center;">MC</td><td style="text-align:center;">主控公用串行接点用线圈指令</td></tr><tr><td style="text-align:center;">MCR</td><td style="text-align:center;">主控复位公用串行接点解除指令</td></tr><tr><td style="text-align:center;">NOP</td><td style="text-align:center;">无动作</td></tr><tr><td style="text-align:center;">WDT</td><td style="text-align:center;">监视定时器复位</td></tr></tbody></table><h2 id="重要指令" tabindex="-1"><a class="header-anchor" href="#重要指令" aria-hidden="true">#</a> 重要指令</h2><h3 id="pls、plf" tabindex="-1"><a class="header-anchor" href="#pls、plf" aria-hidden="true">#</a> pls、plf</h3><figure><img src="'+g+'" alt="image-20240617195251634" tabindex="0" loading="lazy"><figcaption>image-20240617195251634</figcaption></figure><p>当PLS 指令被上升沿驱动时，其指定的元件被设定为ON状态，该ON状态仅持续1个扫描周期；</p><p>当PLF 指令被下降沿驱动时，其指定的元件被设定为ON状态，该ON状态仅持续1个扫描周期。</p><p>指令举例：</p><figure><img src="'+s+'" alt="image-20240617195311640" tabindex="0" loading="lazy"><figcaption>image-20240617195311640</figcaption></figure><h3 id="dsit-两段速最大定长的中断定位指令" tabindex="-1"><a class="header-anchor" href="#dsit-两段速最大定长的中断定位指令" aria-hidden="true">#</a> DSIT 两段速最大定长的中断定位指令</h3><p>启动后，加速到设定的高速输出段输出频率运行；当高速输出位置段脉冲结束后自动切换到低速寻标段输出 频率运行，检测到中断输入信号后，保持当前输出频率，并输出设定的脉冲个数；当没有检测到中断输入信号， 则输出设定的最大脉冲数。注：高速输出段不响应输入中断信号。只有晶体管输出 PLC 才能使用该指令。</p><figure><img src="'+d+'" alt="image-20240617195930557" tabindex="0" loading="lazy"><figcaption>image-20240617195930557</figcaption></figure><p>S1 为指定的输出脉冲数，包括最大脉冲数、中断后位置段脉冲数和高速输出段脉冲数。16bit 指令时，范围是－ 32768 ～ 32,767；32bit 指令时，范围是 -2,147,483,648 ～ 2,147,483,647。其中负号表示反方向。S1 中“最 大脉冲数”的正负决定了脉冲输出方向。 输出脉冲数，是相对于下面的当前值寄存器作为相对位置：</p><figure><img src="'+l+'" alt="image-20240617200028031" tabindex="0" loading="lazy"><figcaption>image-20240617200028031</figcaption></figure><p>反转时，当前值寄存器的数值减小。</p><p>S2 为指定的高速输出段和低速寻标段（中断发生后）的输出脉冲频率，16bit 指令时，范围为 10 ～ 32767Hz；32bit 指令时，范围为 10 ～ 200,000Hz；</p><p>D1 为脉冲输出端口；可指定 Y0/Y1/Y2/Y3/Y4；</p><p>D2 运行方向输出端口或位变量，输出为 ON 状态，表示为正向运行；否则为反向运行。</p><p>S4 为指定的中断信号输入端口，可指定 X0-X7。</p><p>当指令能流为 OFF 时，将减速停止；此时执行完成标志 M8029 不会动作；指令驱动接点变为 OFF 后，减速 停止过程中即（脉冲输出中标志处于 ON），将不接受指令的再次驱动。当能流由 OFF → ON 时，脉冲输出 处理重新开始；指令执行完毕，M8029 标志置为 ON；</p><p>脉冲输出示意图，如下：</p><figure><img src="'+p+'" alt="image-20240617200119575" tabindex="0" loading="lazy"><figcaption>image-20240617200119575</figcaption></figure><h3 id="plsna-多段速绝对位置脉冲输出指令" tabindex="-1"><a class="header-anchor" href="#plsna-多段速绝对位置脉冲输出指令" aria-hidden="true">#</a> PLSNA 多段速绝对位置脉冲输出指令</h3><p>以设定的输出端口，按照设定的每一段输出脉冲频率和脉冲个数，连续输出。基于绝对位置的运动，运行中 有加减速，但运行中不允许换向。</p><figure><img src="'+c+'" alt="image-20240617200310397" tabindex="0" loading="lazy"><figcaption>image-20240617200310397</figcaption></figure><p>该指令是按指定的端口、频率和运行方向输出脉冲，当检测到中断信号后，继续输出给定的脉冲数，令伺 服执行机构在当前位置的基础上作偏移量的运动；只有晶体管输出 PLC 才能使用该指令。其中： S1 为指定的首段输出脉冲数。使用 16bit 指令时，范围是－ 32768 ～ 32,767；32bit 指令时，范围 是 -2,147,483,648 ～ 2,147,483,647。其中负号表示反方向；其正负决定了脉冲输出方向。</p><p>输出脉冲数，是相对于下面的当前值寄存器作为相对位置：</p><figure><img src="'+o+'" alt="image-20240617200352866" tabindex="0" loading="lazy"><figcaption>image-20240617200352866</figcaption></figure><p>反转时，当前值寄存器的数值减小。</p><p>S2 为指定的首段输出脉冲频率。使用之后连续的软元件存储其余段速的输出脉冲频率。16bit 指令时，范围 为 10 ～ 32767Hz；32bit 指令时，范围为 10 ～ 200,000Hz；</p><p>D1 为脉冲输出端口；可指定 Y0/Y1/Y2/Y3/Y4；</p><p>D2 运行方向输出端口或位变量，输出为 ON 状态，表示为正向运行；否则为反向运行，仅由第一段脉冲个 数 S 正负号决定。</p><p>S3 为指定的脉冲段数，可指定 2-16 段。</p><h3 id="alt交替输出" tabindex="-1"><a class="header-anchor" href="#alt交替输出" aria-hidden="true">#</a> ALT交替输出</h3><figure><img src="'+f+'" alt="image-20240617200511452" tabindex="0" loading="lazy"><figcaption>image-20240617200511452</figcaption></figure><p>该指令的功能是能流有效时，将D元件的状态反转。其中D为位变量元件。 一般使用脉冲执行型ALTP指令。</p><figure><img src="'+m+'" alt="image-20240617200534807" tabindex="0" loading="lazy"><figcaption>image-20240617200534807</figcaption></figure><p>若在指令能流中引入定时器，可方便地实现振荡器输出（此功能也可以用特殊定时器STMR指令来实现）</p><figure><img src="'+h+'" alt="image-20240617200617283" tabindex="0" loading="lazy"><figcaption>image-20240617200617283</figcaption></figure><h3 id="bout-位数据输出-bset-brst类似" tabindex="-1"><a class="header-anchor" href="#bout-位数据输出-bset-brst类似" aria-hidden="true">#</a> BOUT 位数据输出-（BSET/BRST类似）</h3><figure><img src="'+x+'" alt="image-20240617200753602" tabindex="0" loading="lazy"><figcaption>image-20240617200753602</figcaption></figure><p>将BOUT指令之前的逻辑运算结果输出至指定的位</p><figure><img src="'+y+'" alt="image-20240617200811640" tabindex="0" loading="lazy"><figcaption>image-20240617200811640</figcaption></figure><h3 id="wdt-监视定时器复位" tabindex="-1"><a class="header-anchor" href="#wdt-监视定时器复位" aria-hidden="true">#</a> WDT 监视定时器复位</h3><figure><img src="'+u+'" alt="image-20240617195335932" tabindex="0" loading="lazy"><figcaption>image-20240617195335932</figcaption></figure><p>PLC系统内有用于监视用户程序执行一次的时间是否超时的定时器，若超时即会停止用户程序的执行并报 警，执行WDT指令即可将该监视定时器复位，让监视定时器重新开始计时，避免超时错误。</p><p>若用户程序所执行的操作过于复杂（例如过多的循环计算），执行时有可能出现运行超时错误， 编程时若必要，可用WDT指令（例如在FOR~NEXT指令之间中插入该指令）；</p><p>如果程序扫描时间大于D8000的值（默认200ms），可以在程序间插入WDT指令将每段程序分成扫描时间低 于200ms或者根据需要修改D8000的设定值。</p><figure><img src="'+b+'" alt="image-20240617195422891" tabindex="0" loading="lazy"><figcaption>image-20240617195422891</figcaption></figure><p>此程序扫描时间是320ms，用WDT指令将程序分割为2部分，使得每部分程序扫描时间都在200ms以下。</p><h3 id="mep-mef运算结果脉冲化" tabindex="-1"><a class="header-anchor" href="#mep-mef运算结果脉冲化" aria-hidden="true">#</a> MEP MEF运算结果脉冲化</h3><p>指令是使运算结果脉冲化的指令，不需要指定软元件编号</p><p>1） MEP 在到MEP指令为止的运算结果，从OFF→ON时变为导通状态。 如果使用MEP指令，那么在串联了多个触点的情况下，非常容易实现脉冲化处理</p><p>2） MEF 在到MEF指令为止的运算结果，从ON→OFF时变为导通状态。 如果使用MEF指令，那么在串联了多个触点的情况下，非常容易实现脉冲化处理</p><figure><img src="'+_+'" alt="image-20240617195626849" tabindex="0" loading="lazy"><figcaption>image-20240617195626849</figcaption></figure><figure><img src="'+D+'" alt="image-20240617195635624" tabindex="0" loading="lazy"><figcaption>image-20240617195635624</figcaption></figure><h1 id="_2-程序流程指令" tabindex="-1"><a class="header-anchor" href="#_2-程序流程指令" aria-hidden="true">#</a> 2.程序流程指令</h1><figure><img src="'+S+'" alt="image-20240617213239703" tabindex="0" loading="lazy"><figcaption>image-20240617213239703</figcaption></figure><h3 id="子程序调用" tabindex="-1"><a class="header-anchor" href="#子程序调用" aria-hidden="true">#</a> 子程序调用</h3><table><thead><tr><th style="text-align:center;">指令</th><th style="text-align:center;">功能</th></tr></thead><tbody><tr><td style="text-align:center;">CALL</td><td style="text-align:center;">子程序调用</td></tr><tr><td style="text-align:center;">SRET</td><td style="text-align:center;">子程序返回</td></tr><tr><td style="text-align:center;">SSRET</td><td style="text-align:center;">子程序带条件返回</td></tr><tr><td style="text-align:center;">IRET</td><td style="text-align:center;">中断返回</td></tr></tbody></table><h3 id="中断、循环、步进" tabindex="-1"><a class="header-anchor" href="#中断、循环、步进" aria-hidden="true">#</a> 中断、循环、步进</h3><table><thead><tr><th style="text-align:center;">指令</th><th style="text-align:center;">功能</th></tr></thead><tbody><tr><td style="text-align:center;">EI</td><td style="text-align:center;">中断许可</td></tr><tr><td style="text-align:center;">DI</td><td style="text-align:center;">中断禁止</td></tr><tr><td style="text-align:center;">FOR</td><td style="text-align:center;">循环范围开始</td></tr><tr><td style="text-align:center;">NEXT</td><td style="text-align:center;">循环范围结束</td></tr><tr><td style="text-align:center;">STL</td><td style="text-align:center;">程序跳至副母线</td></tr><tr><td style="text-align:center;">RET</td><td style="text-align:center;">程序返回主母线</td></tr></tbody></table><h3 id="跳转" tabindex="-1"><a class="header-anchor" href="#跳转" aria-hidden="true">#</a> 跳转</h3><table><thead><tr><th style="text-align:center;">指令</th><th style="text-align:center;">功能</th></tr></thead><tbody><tr><td style="text-align:center;">CJ</td><td style="text-align:center;">条件跳转</td></tr><tr><td style="text-align:center;">LBL</td><td style="text-align:center;">标号指令</td></tr><tr><td style="text-align:center;">CJEND</td><td style="text-align:center;">条件跳转到程序结束位置</td></tr></tbody></table><h2 id="重要指令-1" tabindex="-1"><a class="header-anchor" href="#重要指令-1" aria-hidden="true">#</a> 重要指令</h2><h3 id="for-循环范围开始、next-循环范围结束" tabindex="-1"><a class="header-anchor" href="#for-循环范围开始、next-循环范围结束" aria-hidden="true">#</a> FOR 循环范围开始、NEXT 循环范围结束</h3><figure><img src="'+O+'" alt="image-20240617214134505" tabindex="0" loading="lazy"><figcaption>image-20240617214134505</figcaption></figure><p>FOR指令用于一个循环的起始，同时指明循环执行的次数，必须与NEXT指令配套使用。</p><p>NEXT指令用于指示循环区域的尾部。由FOR指令指定FOR<sub>NEXT循环来回执行N次后跳出FOR</sub>NEXT循环往 下继续执行。</p><p>在FOR<sub>NEXT指令的循环区间，可以嵌入另一个FOR</sub>NEXT循环，但规定：从最外层的FOR~NEXT计算，最 多可内嵌6层FOR<sub>NEXT循环。运行时PLC会以各FOR</sub>NEXT层对应解析执行。但需要注意当循环次数过多 时，会使PLC扫描周期延长，可能造成逾时监视定时器动作而导致错误产生。可在FOR~NEXT指令之间使用 WDT指令来改善。</p><p>有下列情况者，都会出错：</p><ul><li>NEXT指令在FOR指令之前；</li><li>有FOR指令而无NEXT指令；</li><li>在FEND，END指令以后有NEXT指令；</li><li>FOR指令与NEXT指令个数不一致等。</li></ul><figure><img src="'+M+'" alt="image-20240617214239050" tabindex="0" loading="lazy"><figcaption>image-20240617214239050</figcaption></figure><h1 id="_3-数据比较" tabindex="-1"><a class="header-anchor" href="#_3-数据比较" aria-hidden="true">#</a> 3.数据比较</h1><h2 id="触点比较" tabindex="-1"><a class="header-anchor" href="#触点比较" aria-hidden="true">#</a> 触点比较</h2><figure><img src="'+N+'" alt="image-20240617214454533" tabindex="0" loading="lazy"><figcaption>image-20240617214454533</figcaption></figure><figure><img src="'+w+'" alt="image-20240617214509185" tabindex="0" loading="lazy"><figcaption>image-20240617214509185</figcaption></figure><figure><img src="'+z+'" alt="image-20240617214519067" tabindex="0" loading="lazy"><figcaption>image-20240617214519067</figcaption></figure><h2 id="比较输出" tabindex="-1"><a class="header-anchor" href="#比较输出" aria-hidden="true">#</a> 比较输出</h2><figure><img src="'+C+'" alt="image-20240617214549743" tabindex="0" loading="lazy"><figcaption>image-20240617214549743</figcaption></figure><table><thead><tr><th style="text-align:center;">指令</th><th style="text-align:center;">用途</th></tr></thead><tbody><tr><td style="text-align:center;">CMP</td><td style="text-align:center;">数据比较</td></tr><tr><td style="text-align:center;">ECMP</td><td style="text-align:center;">二进制浮点比较</td></tr><tr><td style="text-align:center;">ZCP</td><td style="text-align:center;">区域比较</td></tr><tr><td style="text-align:center;">EZCP</td><td style="text-align:center;">二进制浮点区间比较</td></tr></tbody></table><h1 id="_4-数据运算" tabindex="-1"><a class="header-anchor" href="#_4-数据运算" aria-hidden="true">#</a> 4.数据运算</h1><figure><img src="'+B+'" alt="image-20240617214809617" tabindex="0" loading="lazy"><figcaption>image-20240617214809617</figcaption></figure><h1 id="_5-数据处理" tabindex="-1"><a class="header-anchor" href="#_5-数据处理" aria-hidden="true">#</a> 5.数据处理</h1><figure><img src="'+F+'" alt="image-20240617214952864" tabindex="0" loading="lazy"><figcaption>image-20240617214952864</figcaption></figure><figure><img src="'+R+'" alt="image-20240618091522481" tabindex="0" loading="lazy"><figcaption>image-20240618091522481</figcaption></figure><h3 id="_1-数据转换" tabindex="-1"><a class="header-anchor" href="#_1-数据转换" aria-hidden="true">#</a> 1 数据转换</h3><table><thead><tr><th style="text-align:center;">指令</th><th style="text-align:center;">含义</th></tr></thead><tbody><tr><td style="text-align:center;">INT</td><td style="text-align:center;">二进制浮点→BIN整数变换（浮点的取整）</td></tr><tr><td style="text-align:center;">BCD</td><td style="text-align:center;">二进制数据转换BCD数据（十进制转二进制）</td></tr><tr><td style="text-align:center;">BIN</td><td style="text-align:center;">BCD数据转换二进制数据（二进制转十进制）</td></tr><tr><td style="text-align:center;">FLT</td><td style="text-align:center;">二进制数据→二进制浮点数转换</td></tr><tr><td style="text-align:center;">EBCD</td><td style="text-align:center;">二进制浮点→十进制浮点转换</td></tr><tr><td style="text-align:center;">EBIN</td><td style="text-align:center;">十进制浮点→二进制浮点转换</td></tr><tr><td style="text-align:center;">DABIN</td><td style="text-align:center;">10进制ASCII→BIN的转换</td></tr><tr><td style="text-align:center;">BINDA</td><td style="text-align:center;">BIN→10进制ASCII的转换</td></tr><tr><td style="text-align:center;">WTOB</td><td style="text-align:center;">字节单位的数据分离</td></tr><tr><td style="text-align:center;">BTOW</td><td style="text-align:center;">字节单位的数据结合</td></tr><tr><td style="text-align:center;">UNI</td><td style="text-align:center;">16位数据的4位结合</td></tr><tr><td style="text-align:center;">DIS</td><td style="text-align:center;">16位数据的4位分离</td></tr><tr><td style="text-align:center;">ASCI</td><td style="text-align:center;">HEX→ASCII转换</td></tr><tr><td style="text-align:center;">HEX</td><td style="text-align:center;">ASCII→HEX转换</td></tr></tbody></table><figure><img src="'+I+'" alt="image-20240618094503185" tabindex="0" loading="lazy"><figcaption>image-20240618094503185</figcaption></figure><h3 id="binda-bin→10进制ascii的转换" tabindex="-1"><a class="header-anchor" href="#binda-bin→10进制ascii的转换" aria-hidden="true">#</a> BINDA BIN→10进制ASCII的转换</h3><figure><img src="'+T+'" alt="image-20240618094923540" tabindex="0" loading="lazy"><figcaption>image-20240618094923540</figcaption></figure><h4 id="_1-16位指令" tabindex="-1"><a class="header-anchor" href="#_1-16位指令" aria-hidden="true">#</a> 1） 16位指令</h4><p>● 将[S]的16位数据(BIN)按照10进制的各个位数转换成ASCII码(30H～39H)，然后保存到[D]开始的软元件 中。</p><figure><img src="'+H+'" alt="image-20240618095002852" tabindex="0" loading="lazy"><figcaption>image-20240618095002852</figcaption></figure><p>运算结果如下：</p><p>• 16位数据为正时，符号位保存“20H(空格)”，为负时保存“2DH(-)”。</p><p>• 有效位数的左侧的0时保存“20H(空格)”。</p><p>• 根据M8163的ON/OFF状态确定[D+3]的值。</p><h4 id="_2-32位指令" tabindex="-1"><a class="header-anchor" href="#_2-32位指令" aria-hidden="true">#</a> 2） 32位指令</h4><p>将32位数据(BIN)按照10进制的各个位数转换成ASCII码(30H～39H)，然后保存到[D]开始的软元件中</p><figure><img src="'+A+'" alt="image-20240618095059735" tabindex="0" loading="lazy"><figcaption>image-20240618095059735</figcaption></figure><p>运算结果如下：</p><p>• 16位数据为正时，符号位保存“20H(空格)”，为负时保存“2DH(-)”。</p><p>• 有效位数的左侧的0时保存“20H(空格)”。</p><p>• 根据M8163的ON/OFF状态确定[D+5]的高字节数据</p><figure><img src="'+P+'" alt="image-20240618095135084" tabindex="0" loading="lazy"><figcaption>image-20240618095135084</figcaption></figure><h3 id="wtob字节单位的数据分离-btow-字节单位的数据结合" tabindex="-1"><a class="header-anchor" href="#wtob字节单位的数据分离-btow-字节单位的数据结合" aria-hidden="true">#</a> WTOB字节单位的数据分离/BTOW 字节单位的数据结合</h3><p>将[S]开始的软元件中保存的16位数据以字节为单位保存到以[D]开始的n点软元件的低8位中，高8位保存 00H。</p><figure><img src="'+L+'" alt="image-20240618095514154" tabindex="0" loading="lazy"><figcaption>image-20240618095514154</figcaption></figure><figure><img src="'+K+'" alt="image-20240618095551948" tabindex="0" loading="lazy"><figcaption>image-20240618095551948</figcaption></figure><p>以下一些情况会报故障。出错标志位M8067置ON，同时出错代码保存于D8067。</p><p>当[S]、[D]开始的软元件超出其软元件范围时，报6705号错误。</p><figure><img src="'+X+'" alt="image-20240618095535451" tabindex="0" loading="lazy"><figcaption>image-20240618095535451</figcaption></figure><h3 id="uni-16位数据的4位结合-dis-16位数据的4位分离" tabindex="-1"><a class="header-anchor" href="#uni-16位数据的4位结合-dis-16位数据的4位分离" aria-hidden="true">#</a> UNI 16位数据的4位结合/DIS 16位数据的4位分离</h3><figure><img src="'+E+'" alt="image-20240618095838208" tabindex="0" loading="lazy"><figcaption>image-20240618095838208</figcaption></figure><p>将S起始的n个16位数据的低4位结合成16位数据保存到D中。 n的取值范围1<sub>4。n=0时，指令不执行。n取值1</sub>3时，剩余高位0填充。</p><figure><img src="'+W+'" alt="image-20240618095859306" tabindex="0" loading="lazy"><figcaption>image-20240618095859306</figcaption></figure><p>以下一些情况下会发生运算错误，错误标志位M8067置ON，错误代码保存在D8067中。</p><p>1）S中设定的软元件超范围时，报错误代码K6705；</p><p>2）n设定超范围时，报错误代码K6706。</p><p>将D100开始的3个软元件的低4位组合成16未数据，不足位数0填充，处理结果存储于D120。</p><figure><img src="'+v+'" alt="image-20240618095927360" tabindex="0" loading="lazy"><figcaption>image-20240618095927360</figcaption></figure><h3 id="asci-hex→ascii转换-hex-ascii→hex转换" tabindex="-1"><a class="header-anchor" href="#asci-hex→ascii转换-hex-ascii→hex转换" aria-hidden="true">#</a> ASCI HEX→ASCII转换/HEX ASCII→HEX转换</h3><figure><img src="'+U+'" alt="Snipaste_2024-06-18_10-02-10" tabindex="0" loading="lazy"><figcaption>Snipaste_2024-06-18_10-02-10</figcaption></figure><p>该指令是将S的值转换成ASCII码后，存储到D为起始地址的变量中。其中：</p><ul><li><p>S为待转换的变量地址或常数数值；</p></li><li><p>D为转换后ASCII码的存放起始地址；</p></li><li><p>n为转换的字符位数（范围为：1~256）。</p></li></ul><p>ASCI数值转换遵照ASCII与HEX进制数值对照表，如：ASCII‘0’对应HEX‘H30’；ASCII‘F’对应 HEX‘H46’等。</p><figure><img src="'+V+'" alt="image-20240618100309953" tabindex="0" loading="lazy"><figcaption>image-20240618100309953</figcaption></figure><p>其中，M8161标志决定了计算结果存放目的变量的宽度模式，当M8161=OFF时，为16bit模式，即变量的高 字节和低字节分别存储；当M8161=ON时，为8bit模式，只有变量的低字节存储结果，因此实际使用变量区 域的长度增加。</p><h2 id="_2-位移操作" tabindex="-1"><a class="header-anchor" href="#_2-位移操作" aria-hidden="true">#</a> 2 位移操作</h2><table><thead><tr><th style="text-align:center;">指令</th><th style="text-align:center;">含义</th></tr></thead><tbody><tr><td style="text-align:center;">MOV</td><td style="text-align:center;">赋值传送</td></tr><tr><td style="text-align:center;">EMOV</td><td style="text-align:center;">二进制浮点传送</td></tr><tr><td style="text-align:center;">SMOV</td><td style="text-align:center;">移位传送</td></tr><tr><td style="text-align:center;">BMOV</td><td style="text-align:center;">数据成批传送</td></tr><tr><td style="text-align:center;">FMOV</td><td style="text-align:center;">数据一对多传送</td></tr><tr><td style="text-align:center;">CML</td><td style="text-align:center;">数据取反传送</td></tr><tr><td style="text-align:center;">ZPUSH</td><td style="text-align:center;">变址寄存器的批量保存</td></tr><tr><td style="text-align:center;">ZPOP</td><td style="text-align:center;">变址寄存器的批量恢复</td></tr></tbody></table><h3 id="smov-移位传送" tabindex="-1"><a class="header-anchor" href="#smov-移位传送" aria-hidden="true">#</a> SMOV 移位传送</h3><figure><img src="'+Y+'" alt="image-20240618100732587" tabindex="0" loading="lazy"><figcaption>image-20240618100732587</figcaption></figure><p>需要触点驱动，最多有5个操作变量，其中：</p><ul><li><p>S为待复制的数据源变量，当M8168为OFF时是BCD模式（十进制的位），M操作数的范围是0000~9999，不 能为负数。当M8168为ON时是BIN模式，S操作数可以是负数。</p></li><li><p>m1为数据源传送的起始位号，（1～4）范围；</p></li><li><p>m2为数据源传送的位数，（1～m1）范围；</p></li><li><p>D为数据源传送的目的变量；</p></li><li><p>n为数据源传送的目的变量的起始位，（m2～4）范围。</p></li></ul><p>数据位的传送过程与特殊标志M8168的状态有关，当M8168为OFF时是BCD模式（十进制的位），当M8168 为ON时是BIN模式，在BIN模式下以4个位作为一个单位作传送（十六进制的位）。</p><figure><img src="'+k+'" alt="image-20240618101021408" tabindex="0" loading="lazy"><figcaption>image-20240618101021408</figcaption></figure><p>假设D8=K1234，D2=K5678，则当M8168为OFF时（BCD模式），将M2置ON，则D2的值变为K5128； 当M8168为ON时（BIN模式），此时D8=H04D2=K1234，D2=H162E=K5678，将M2置ON，则 D2=H104E=K4174。</p><h3 id="bmov-数据成批传送" tabindex="-1"><a class="header-anchor" href="#bmov-数据成批传送" aria-hidden="true">#</a> BMOV 数据成批传送</h3><figure><img src="'+q+'" alt="image-20240618101114122" tabindex="0" loading="lazy"><figcaption>image-20240618101114122</figcaption></figure><p>需要触点驱动，有3个操作变量，将由S指定起始地址的n个变量值复制到由D指定起始地址的n个单元中。 其中n的取值范围是1～512。 当特殊变量M8024＝1时，成批传送的方向相反，即将由D指定起始地址的n个变量值复制到由S指定起始地 址的n个单元中。</p><figure><img src="'+j+'" alt="image-20240618101144156" tabindex="0" loading="lazy"><figcaption>image-20240618101144156</figcaption></figure><h3 id="fmov-数据一对多传送" tabindex="-1"><a class="header-anchor" href="#fmov-数据一对多传送" aria-hidden="true">#</a> FMOV 数据一对多传送</h3><figure><img src="'+Z+'" alt="image-20240618101245741" tabindex="0" loading="lazy"><figcaption>image-20240618101245741</figcaption></figure><p>需要触点驱动，有3个操作变量，将由S的数据复制到由D指定起始地址的n个单元中。</p><p>其中n的取值范围是1~512。</p><p>FMOV是16位的多点传送指令，DFMOV是32位多点传送。</p><figure><img src="'+Q+'" alt="image-20240618101313286" tabindex="0" loading="lazy"><figcaption>image-20240618101313286</figcaption></figure><h3 id="cml-数据取反传送" tabindex="-1"><a class="header-anchor" href="#cml-数据取反传送" aria-hidden="true">#</a> CML 数据取反传送</h3><figure><img src="'+G+'" alt="image-20240618101420146" tabindex="0" loading="lazy"><figcaption>image-20240618101420146</figcaption></figure><p>需要触点驱动，有2个操作变量，将S的BIN值逐位取反后复制到D中。当D的位数不足16bit时，将S取反后按 低位对齐传送到D变量中；当为32bit指令（DCML）时，S和D都会使用相邻高地址的变量单元参与运算。例 如语句：〔DCML D1 D5〕的操作结果是：/D1→D5；/D2→D6</p><figure><img src="'+J+'" alt="image-20240618101449504" tabindex="0" loading="lazy"><figcaption>image-20240618101449504</figcaption></figure><p>​ <img src="'+$+'" alt="image-20240618101510732" loading="lazy"></p><h2 id="_3-表格操作" tabindex="-1"><a class="header-anchor" href="#_3-表格操作" aria-hidden="true">#</a> 3 表格操作</h2><table><thead><tr><th style="text-align:center;">指令</th><th style="text-align:center;">含义</th></tr></thead><tbody><tr><td style="text-align:center;">ZRST</td><td style="text-align:center;">全部数据复位</td></tr><tr><td style="text-align:center;">SORT</td><td style="text-align:center;">数据排序</td></tr><tr><td style="text-align:center;">SORT2</td><td style="text-align:center;">数据排序2</td></tr><tr><td style="text-align:center;">SER</td><td style="text-align:center;">数据查找</td></tr><tr><td style="text-align:center;">FDEL</td><td style="text-align:center;">数据表的数据删除</td></tr><tr><td style="text-align:center;">FINS</td><td style="text-align:center;">数据表的数据插入</td></tr><tr><td style="text-align:center;">POP</td><td style="text-align:center;">后入数据的读取</td></tr><tr><td style="text-align:center;">RAMP</td><td style="text-align:center;">斜坡指令</td></tr></tbody></table><h3 id="sort数据排序-升序-sort2-数据排序2-降序" tabindex="-1"><a class="header-anchor" href="#sort数据排序-升序-sort2-数据排序2-降序" aria-hidden="true">#</a> SORT数据排序（升序）/SORT2 数据排序2（降序）</h3><figure><img src="'+tt+'" alt="image-20240618101832581" tabindex="0" loading="lazy"><figcaption>image-20240618101832581</figcaption></figure><p>​ 当驱动条件成立时，对以S为首址的m1行m2列的数据表格的第n列数据进行升序排列，排列结果存储到以D 为首址的数据表格中。</p><figure><img src="'+et+'" alt="image-20240618101906492" tabindex="0" loading="lazy"><figcaption>image-20240618101906492</figcaption></figure><h3 id="ser-数据查找" tabindex="-1"><a class="header-anchor" href="#ser-数据查找" aria-hidden="true">#</a> SER 数据查找</h3><figure><img src="'+it+'" alt="image-20240618102023259" tabindex="0" loading="lazy"><figcaption>image-20240618102023259</figcaption></figure><p>当驱动条件成立时，从以源址S1为起始的k个数据中，检索出符合条件S2的数据的地址，存放于以D为首址 的5个寄存器中。</p><figure><img src="'+at+'" alt="image-20240618102142713" tabindex="0" loading="lazy"><figcaption>image-20240618102142713</figcaption></figure><p>使用说明： 当指令能流X20为ON时，方才进行比较。比较的方法为有符号数的代数比较方法进行，例如－8&lt;2； 当最小值、最大值有多个时，分别显示序号最大的元件； 存储检索结果的单元占用D开始的5个连续单元。若不存在相等数据时，上例中的D80～D82均为0。</p><h3 id="fdel数据表的数据删除-fins数据表的数据插入" tabindex="-1"><a class="header-anchor" href="#fdel数据表的数据删除-fins数据表的数据插入" aria-hidden="true">#</a> FDEL数据表的数据删除/FINS数据表的数据插入</h3><figure><img src="'+nt+'" alt="image-20240618102242057" tabindex="0" loading="lazy"><figcaption>image-20240618102242057</figcaption></figure><p>删除从[D+1]开始的数据表格的第n个数据，将删除的数据保存到[S]中，同时[D+1]中第n+1个开始的数据逐 个向前靠拢，且数据保存数[D]减1。</p><figure><img src="'+rt+'" alt="image-20240618102302420" tabindex="0" loading="lazy"><figcaption>image-20240618102302420</figcaption></figure><p>以下一些情况会报故障。出错标志位M8067置ON，同时出错代码保存于D8067。</p><p>1）数据保存数超出相应软元件范围时，报6705号错误；</p><p>2）被删位置n＞数据保存数[D]时，报6706号错误；</p><p>3）n设定值≤0时，报6706号错误；</p><p>4）数据保存数设定值≤0时，报6706号错误。</p><figure><img src="'+gt+'" alt="image-20240618102329647" tabindex="0" loading="lazy"><figcaption>image-20240618102329647</figcaption></figure><h2 id="_4-数据移位" tabindex="-1"><a class="header-anchor" href="#_4-数据移位" aria-hidden="true">#</a> 4 数据移位</h2><table><thead><tr><th style="text-align:center;">指令</th><th style="text-align:center;">含义</th></tr></thead><tbody><tr><td style="text-align:center;">ROR</td><td style="text-align:center;">循环右移</td></tr><tr><td style="text-align:center;">ROL</td><td style="text-align:center;">循环左移</td></tr><tr><td style="text-align:center;">RCR</td><td style="text-align:center;">带进位的循环右移</td></tr><tr><td style="text-align:center;">RCL</td><td style="text-align:center;">带进位的循环左移</td></tr><tr><td style="text-align:center;">SFTR</td><td style="text-align:center;">位右移</td></tr><tr><td style="text-align:center;">SFTL</td><td style="text-align:center;">位左移</td></tr><tr><td style="text-align:center;">WSFR</td><td style="text-align:center;">字右移</td></tr><tr><td style="text-align:center;">WSFL</td><td style="text-align:center;">字左移</td></tr><tr><td style="text-align:center;">SFWR</td><td style="text-align:center;">先进先出的数据写入</td></tr><tr><td style="text-align:center;">SFRD</td><td style="text-align:center;">先进先出的数据读出</td></tr><tr><td style="text-align:center;">SFR</td><td style="text-align:center;">16位数据n位右移(带进位)</td></tr><tr><td style="text-align:center;">SFL</td><td style="text-align:center;">16位数据n位左移(带进位)</td></tr></tbody></table><h3 id="ror-循环右移" tabindex="-1"><a class="header-anchor" href="#ror-循环右移" aria-hidden="true">#</a> ROR 循环右移</h3><figure><img src="'+st+'" alt="image-20240620104303874" tabindex="0" loading="lazy"><figcaption>image-20240620104303874</figcaption></figure><p>将D的内容连同进位标志M8022循环右移n位。本指令一般使用脉冲执行型指令。当为32bit指令时，寄存器 变量则占用后续相邻地址的共2个单元： 若D中指定KnY、KnM、KnS时，只有K4（16bit）及K8（32bit）有效；<img src="'+dt+'" alt="image-20240620104342610" loading="lazy"></p><h2 id="_5-其他数据处理" tabindex="-1"><a class="header-anchor" href="#_5-其他数据处理" aria-hidden="true">#</a> 5 其他数据处理</h2><h3 id="swap上下字节交换" tabindex="-1"><a class="header-anchor" href="#swap上下字节交换" aria-hidden="true">#</a> SWAP上下字节交换</h3><figure><img src="'+lt+'" alt="image-20240620104824494" tabindex="0" loading="lazy"><figcaption>image-20240620104824494</figcaption></figure><p>该指令是将指定变量S的高低字节的值进行互相交换。</p><p>16 位指令时，高8 位与低8 位的值进行互相交换。</p><p>32 位指令时，两个寄存器的高8 位与低8 位的值各自进行互相交换</p><p>注意此指令一般使用脉冲执行型指令，否则若采用连续执行指令，则程序每扫描一次，就会进行一次交换。</p><figure><img src="'+pt+'" alt="image-20240620104850742" tabindex="0" loading="lazy"><figcaption>image-20240620104850742</figcaption></figure><h3 id="bon-on位判断" tabindex="-1"><a class="header-anchor" href="#bon-on位判断" aria-hidden="true">#</a> BON ON位判断</h3><figure><img src="'+ct+'" alt="image-20240620104928781" tabindex="0" loading="lazy"><figcaption>image-20240620104928781</figcaption></figure><p>判断S的第n位的状态，结果存入D。</p><figure><img src="'+ot+'" alt="image-20240620104943574" tabindex="0" loading="lazy"><figcaption>image-20240620104943574</figcaption></figure><h3 id="sum-on位总数" tabindex="-1"><a class="header-anchor" href="#sum-on位总数" aria-hidden="true">#</a> SUM ON位总数</h3><figure><img src="'+ft+'" alt="image-20240620105030643" tabindex="0" loading="lazy"><figcaption>image-20240620105030643</figcaption></figure><p>计算S的BIN进制值中为1的位个数，存入D。</p><p>使用D SUM和D SUM P指令的情况下，（S+1，S）的32位中的1的个数写入D，同时D+1全部为0。</p><p>若S中的位全部为零，则零标志位M8020会置ON</p><figure><img src="'+mt+'" alt="image-20240620105101081" tabindex="0" loading="lazy"><figcaption>image-20240620105101081</figcaption></figure><h3 id="rnd产生随机数据" tabindex="-1"><a class="header-anchor" href="#rnd产生随机数据" aria-hidden="true">#</a> RND产生随机数据</h3><figure><img src="'+ht+'" alt="image-20240620105122195" tabindex="0" loading="lazy"><figcaption>image-20240620105122195</figcaption></figure><p>这个指令产生0～32767的伪随机数，将其数值作为随机数保存到[D]中。</p><p>请在STOP → RUN 时仅仅写入一次非0的数值(-2,147,483,648 ～ 2,147,483,647)至（D8311，D8310）作为 初始值。</p><figure><img src="'+xt+'" alt="image-20240620105258617" tabindex="0" loading="lazy"><figcaption>image-20240620105258617</figcaption></figure><h3 id="rand-带范围的随机数" tabindex="-1"><a class="header-anchor" href="#rand-带范围的随机数" aria-hidden="true">#</a> RAND：带范围的随机数</h3><figure><img src="'+yt+'" alt="image-20240620105317888" tabindex="0" loading="lazy"><figcaption>image-20240620105317888</figcaption></figure><p>下限：随机数的范围下限。</p><p>上限：随机数的范围上限。</p><p>随机数：产生的随机数结果，该指令产生介于范围下限和范围上限之间的随机数。如果范围 S1&gt;S2，会报错</p><h3 id="xch-数据交换" tabindex="-1"><a class="header-anchor" href="#xch-数据交换" aria-hidden="true">#</a> XCH 数据交换</h3><figure><img src="'+ut+'" alt="image-20240620105353547" tabindex="0" loading="lazy"><figcaption>image-20240620105353547</figcaption></figure><p>需要触点驱动，有2个操作变量，将S和D的值彼此交换。</p><figure><img src="'+bt+'" alt="image-20240620105408662" tabindex="0" loading="lazy"><figcaption>image-20240620105408662</figcaption></figure><p>当特殊变量M8160＝1时，且D与S为同一地址，完成的操作将是高8位与低8位的交换，32位的指令也一样， 完成的操作将是高8位与低8位的交换。相当于SWAP指令的操作。一般用SWAP指令来实现。</p><h3 id="ans信号报警的置位" tabindex="-1"><a class="header-anchor" href="#ans信号报警的置位" aria-hidden="true">#</a> ANS信号报警的置位</h3><figure><img src="'+_t+'" alt="image-20240620105455043" tabindex="0" loading="lazy"><figcaption>image-20240620105455043</figcaption></figure><p>驱动信号报警器的方便指令。</p><p>其中S的范围为T0<sub>T199，D的范围为S900</sub>S999</p><figure><img src="'+Dt+'" alt="image-20240620105529848" tabindex="0" loading="lazy"><figcaption>image-20240620105529848</figcaption></figure><p>如果X1和X2同时接通1秒以上，则S900被置位，以后即使X1或X2为OFF状态，S900仍保持动作状态（但是 T0会复位，值变成0）。若不满1秒，X1或X2变为OFF时，定时器复位。</p><p>如果预先将M8049（信号报警器有效）置ON，则信号报警器S900~S999中最小ON状态编号被存入D8049 （ON状态最小编号）且当S900~S999中任意一个为ON时，M8048（报警器动作置ON）。</p><figure><img src="'+St+'" alt="image-20240620105557448" tabindex="0" loading="lazy"><figcaption>image-20240620105557448</figcaption></figure><h3 id="anr信号报警的复位" tabindex="-1"><a class="header-anchor" href="#anr信号报警的复位" aria-hidden="true">#</a> ANR信号报警的复位</h3><figure><img src="'+Ot+'" alt="Snipaste_2024-06-20_10-56-17" tabindex="0" loading="lazy"><figcaption>Snipaste_2024-06-20_10-56-17</figcaption></figure><p>当驱动条件有效时，对报警状态继电器S900～S999进行批复位</p><h1 id="矩阵指令" tabindex="-1"><a class="header-anchor" href="#矩阵指令" aria-hidden="true">#</a> 矩阵指令</h1><figure><img src="'+Mt+'" alt="image-20240620105805612" tabindex="0" loading="lazy"><figcaption>image-20240620105805612</figcaption></figure><h2 id="_1-矩阵运算" tabindex="-1"><a class="header-anchor" href="#_1-矩阵运算" aria-hidden="true">#</a> 1 矩阵运算</h2><table><thead><tr><th style="text-align:center;">指令</th><th style="text-align:center;">功能</th></tr></thead><tbody><tr><td style="text-align:center;">BK+</td><td style="text-align:center;">矩阵加法运算</td></tr><tr><td style="text-align:center;">BK-</td><td style="text-align:center;">矩阵减法运算</td></tr><tr><td style="text-align:center;">MAND</td><td style="text-align:center;">矩阵与运算</td></tr><tr><td style="text-align:center;">MOR</td><td style="text-align:center;">矩阵或运算</td></tr><tr><td style="text-align:center;">MXOR</td><td style="text-align:center;">矩阵异或运算</td></tr><tr><td style="text-align:center;">MXNR</td><td style="text-align:center;">矩阵同或运算</td></tr><tr><td style="text-align:center;">MINV</td><td style="text-align:center;">矩阵反相运算</td></tr><tr><td style="text-align:center;">MBC</td><td style="text-align:center;">矩阵位状态计数运算</td></tr></tbody></table><h3 id="bk-矩阵加法运算" tabindex="-1"><a class="header-anchor" href="#bk-矩阵加法运算" aria-hidden="true">#</a> BK+ 矩阵加法运算</h3><figure><img src="'+Nt+'" alt="image-20240620110304234" tabindex="0" loading="lazy"><figcaption>image-20240620110304234</figcaption></figure><p>将[S1]开始的n个（16/32位）数据和[S2]开始的n个(16/32位)数据进行加法运算，运算结果存储于[D]开始的 ｎ个（16/32位）单元中。</p><figure><img src="'+wt+'" alt="image-20240620110322858" tabindex="0" loading="lazy"><figcaption>image-20240620110322858</figcaption></figure><p>可以在[S2]中直接设定（16/32位）有符号常数。</p><figure><img src="'+zt+'" alt="image-20240620110347995" tabindex="0" loading="lazy"><figcaption>image-20240620110347995</figcaption></figure><p>以下一些情况会报故障，指令不执行。出错标志位M8067置ON，同时出错代码保存于D8067。 1）从[S1]、[S2]、[D]开始的软元件超出了该类元件的范围，报6705号错误； 2）从[S1]或[S2]开始软元件和[D]开始的软元件有重叠部分时，报6705号错误。</p><figure><img src="'+Ct+'" alt="image-20240620110403801" tabindex="0" loading="lazy"><figcaption>image-20240620110403801</figcaption></figure><h3 id="minv矩阵反相运算" tabindex="-1"><a class="header-anchor" href="#minv矩阵反相运算" aria-hidden="true">#</a> MINV矩阵反相运算</h3><figure><img src="'+Bt+'" alt="image-20240620110536773" tabindex="0" loading="lazy"><figcaption>image-20240620110536773</figcaption></figure><p>软元件[S]开始的n字节数据进行按位取反的运算，结果存储于[D]开始的软元件中。</p><figure><img src="'+Ft+'" alt="image-20240620110550721" tabindex="0" loading="lazy"><figcaption>image-20240620110550721</figcaption></figure><figure><img src="'+Rt+'" alt="image-20240620110557361" tabindex="0" loading="lazy"><figcaption>image-20240620110557361</figcaption></figure><h3 id="mbc矩阵位状态计数运算" tabindex="-1"><a class="header-anchor" href="#mbc矩阵位状态计数运算" aria-hidden="true">#</a> MBC矩阵位状态计数运算</h3><figure><img src="'+It+'" alt="image-20240620110617324" tabindex="0" loading="lazy"><figcaption>image-20240620110617324</figcaption></figure><p>计算出[S]开始的n组16位数据组成的位矩阵中0位或者是1位的个数，结果存储于[D]中。</p><p>当M8331置ON时，计算矩阵位为1的个数，反之，计算矩阵位为0的个数。</p><p>当计算结果为0时，M8332置ON。</p><figure><img src="'+Tt+'" alt="image-20240620110642542" tabindex="0" loading="lazy"><figcaption>image-20240620110642542</figcaption></figure><h2 id="_2-矩阵比较" tabindex="-1"><a class="header-anchor" href="#_2-矩阵比较" aria-hidden="true">#</a> 2 矩阵比较</h2><table><thead><tr><th style="text-align:center;">指令</th><th style="text-align:center;">功能</th></tr></thead><tbody><tr><td style="text-align:center;">BKCMP=</td><td style="text-align:center;">矩阵等于比较(S1＝S2)</td></tr><tr><td style="text-align:center;">BKCMP&gt;</td><td style="text-align:center;">矩阵大于比较(S1＞S2)</td></tr><tr><td style="text-align:center;">BKCMP&lt;</td><td style="text-align:center;">矩阵小于比较(S1＜S2)</td></tr><tr><td style="text-align:center;">BKCMP&lt;&gt;</td><td style="text-align:center;">矩阵不等于比较(S1≠S2)</td></tr><tr><td style="text-align:center;">BKCMP&lt;=</td><td style="text-align:center;">矩阵小于等于比较(S1≤S2)</td></tr><tr><td style="text-align:center;">BKCMP&gt;=</td><td style="text-align:center;">矩阵大于等于比较(S1≥S2)</td></tr><tr><td style="text-align:center;">MCMP</td><td style="text-align:center;">矩阵比较运算</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;"></td></tr></tbody></table><h3 id="mcmp矩阵比较运算" tabindex="-1"><a class="header-anchor" href="#mcmp矩阵比较运算" aria-hidden="true">#</a> MCMP矩阵比较运算</h3><figure><img src="'+Ht+'" alt="image-20240620111016887" tabindex="0" loading="lazy"><figcaption>image-20240620111016887</figcaption></figure><p>1）将组数同为n的起始于[S1]、[S2]的矩阵从第[D]+2个bit开始按位进行比较，找出符合要求的位，并将该 位的编号存储于[D]中。</p><p>2）矩阵比较标志位M8320决定比较规则：当M8320置ON时，比较相同值；当M8320置OFF时，比较不相同 的值。若比较过程中找到符合要求的位时，停止比较，同时矩阵位寻到标志M8323置ON。若比较至最 后一个bit时，矩阵搜寻结束标志M8321置ON，当前编号存储于[D]中，结束本指令执行。 若寻找符合要求的位是最后一位时，则M8321=ON且M8323=ON。</p><p>3）当一轮比较结束启动下一轮或者矩阵搜寻起始标志位M8322置ON时，将从bit0开始搜寻。</p><p>4）[D]值的合法范围为0~(16n-1)，若[D]值超出范围时，指针错误标志位M8324置ON，本指令不执行。</p><figure><img src="'+At+'" alt="image-20240620111042037" tabindex="0" loading="lazy"><figcaption>image-20240620111042037</figcaption></figure><p>D200初始值设定为1，从第3个bit（bit2）开始比较。</p><p>M100由OFF→ON动作依次出现下面结果：</p><p>D200=2，矩阵位寻到标志M8323置ON，矩阵搜寻结束标志M8321置OFF。</p><p>D200=37，矩阵位寻到标志M8323置ON，矩阵搜寻结束标志M8321置OFF。</p><p>D200=47，矩阵位寻到标志M8323置OFF，矩阵搜寻结束标志M8321置ON。</p><p>D200=0，矩阵位寻到标志M8323置ON，矩阵搜寻结束标志M8321置OFF。</p><p>D200=1，矩阵位寻到标志M8323置ON，矩阵搜寻结束标志M8321置OFF。</p><h4 id="●-标志位说明" tabindex="-1"><a class="header-anchor" href="#●-标志位说明" aria-hidden="true">#</a> ● 标志位说明</h4><p>M8320：矩阵比较标志，该位置OFF则比较不同值，反之则比较相同值。</p><p>M8321：矩阵搜寻结束标志，当比较到最后一个bit时，置ON。</p><p>M8322：矩阵搜寻起始标志置ON，由第一个bit开始比较。</p><p>M8323：矩阵位寻到标志，比较到达时立即停止比较动作置ON。</p><p>M8324：矩阵指针错误标志，指针超出此范围0~(16n-1)时置ON。</p><h2 id="_3-矩阵读写" tabindex="-1"><a class="header-anchor" href="#_3-矩阵读写" aria-hidden="true">#</a> 3 矩阵读写</h2><table><thead><tr><th style="text-align:center;">指令</th><th style="text-align:center;">功能</th></tr></thead><tbody><tr><td style="text-align:center;">MBRD</td><td style="text-align:center;">矩阵位读出运算</td></tr><tr><td style="text-align:center;">MBWR</td><td style="text-align:center;">矩阵位写入运算</td></tr></tbody></table><h2 id="_4-矩阵移位" tabindex="-1"><a class="header-anchor" href="#_4-矩阵移位" aria-hidden="true">#</a> 4 矩阵移位</h2><h2 id="" tabindex="-1"><a class="header-anchor" href="#" aria-hidden="true">#</a></h2><table><thead><tr><th style="text-align:center;">指令</th><th style="text-align:center;">功能</th></tr></thead><tbody><tr><td style="text-align:center;">MBS</td><td style="text-align:center;">矩阵位移位运算</td></tr><tr><td style="text-align:center;">MBR</td><td style="text-align:center;">矩阵位循环移运算</td></tr></tbody></table><h1 id="字符串指令" tabindex="-1"><a class="header-anchor" href="#字符串指令" aria-hidden="true">#</a> 字符串指令</h1><table><thead><tr><th style="text-align:center;">指令</th><th style="text-align:center;">功能</th></tr></thead><tbody><tr><td style="text-align:center;">STR</td><td style="text-align:center;">BIN→字符串的转换</td></tr><tr><td style="text-align:center;">VAL</td><td style="text-align:center;">字符串→BIN的转换</td></tr><tr><td style="text-align:center;">ESTR</td><td style="text-align:center;">二进制浮点数→字符串的转换</td></tr><tr><td style="text-align:center;">EVAL</td><td style="text-align:center;">字符串→二进制浮点数的转换</td></tr><tr><td style="text-align:center;">$+</td><td style="text-align:center;">字符串的组合</td></tr><tr><td style="text-align:center;">LEN</td><td style="text-align:center;">检出字符串的长度</td></tr><tr><td style="text-align:center;">INSTR</td><td style="text-align:center;">字符串的检索</td></tr><tr><td style="text-align:center;">RIGHT</td><td style="text-align:center;">从字符串右侧开始取出</td></tr><tr><td style="text-align:center;">LEFT</td><td style="text-align:center;">从字符串左侧开始取出</td></tr><tr><td style="text-align:center;">MIDR</td><td style="text-align:center;">从字符串中任意取出</td></tr><tr><td style="text-align:center;">MIDW</td><td style="text-align:center;">字符串中任意替换</td></tr><tr><td style="text-align:center;">$MOV</td><td style="text-align:center;">字符串的传送</td></tr></tbody></table><h3 id="str-bin→字符串的转换" tabindex="-1"><a class="header-anchor" href="#str-bin→字符串的转换" aria-hidden="true">#</a> STR BIN→字符串的转换</h3><figure><img src="'+Pt+'" alt="image-20240620111850742" tabindex="0" loading="lazy"><figcaption>image-20240620111850742</figcaption></figure><h4 id="_1-16位运算-str-strp" tabindex="-1"><a class="header-anchor" href="#_1-16位运算-str-strp" aria-hidden="true">#</a> 1） 16位运算(STR/STRP)</h4><p>将[S2]的16位数据(BIN)，在所有位数[S1]、小数点部分位数[S1+1]指定的位置中加上小数点后，转换成 字符串，保存到[D]开始的软元件中。</p><figure><img src="'+Lt+'" alt="image-20240620111940936" tabindex="0" loading="lazy"><figcaption>image-20240620111940936</figcaption></figure><figure><img src="'+Kt+'" alt="image-20240620111950543" tabindex="0" loading="lazy"><figcaption>image-20240620111950543</figcaption></figure><p>① 在2～8位数的范围内设定所有位数[S1]。</p><p>② 在0～5位数的范围内设定小数部分位数[S1+1]。但是，请设定为小数部分位数≦(所有位数-3)。</p><p>③ 要转换的16位数据(BIN) 的值在-32768～32767的范围内。转换后的字符串数据会如下所示地保存到[D] 开始的软元件编号中。</p><p>• 在符号中，16位数据(BIN) [S2]为正时保存“空格(20H)”，为负时保存“-(2DH)”;</p><p>• 在小数部分位数[S1+1]中设定为 “0”以外的数字时，会自动在小数部分位数+1位数的位置上加上小数 点“. (2EH)”。</p><p>• 小数部分位数[S1+1]为“0”时，不附加小数点。</p><figure><img src="'+Xt+'" alt="image-20240620112029460" tabindex="0" loading="lazy"><figcaption>image-20240620112029460</figcaption></figure><p>与[S2]的16位数据(BIN)的位数相比， [S1+1]的小数部分位数较多时，会自动向右对齐，在左边附加 “0(30H)”后进行转换。</p><figure><img src="'+Et+'" alt="image-20240620112044170" tabindex="0" loading="lazy"><figcaption>image-20240620112044170</figcaption></figure><p>如果除去小数点和符号以外，所有位数[S1]的位数多于[S2]的16位数据(BIN)的位数时，在符号和数值之 间保存“空格(20H)”。</p><p>• 此外， [S2]的16位数据(BIN)的位数较多时，会错误：</p><figure><img src="'+Wt+'" alt="image-20240620112100216" tabindex="0" loading="lazy"><figcaption>image-20240620112100216</figcaption></figure><p>在已转换的字符串的末尾处，会自动保存表示字符串末尾含义的“00H”。</p><p>总位数为偶数位数时，在保存末尾字符软元件的后一个软元件中保存“0000H”。此外，当为奇数位数 时，在保存末尾字符的软元件的高字节(8位)中保存“00H”。</p><h4 id="_2-32位运算-dstr-dstrp" tabindex="-1"><a class="header-anchor" href="#_2-32位运算-dstr-dstrp" aria-hidden="true">#</a> 2） 32位运算(DSTR/DSTRP)</h4><p>将[S2+1，S2]的32位数据(BIN)，在所有位数[S1]、小数点部分位数[S1+1]指定的位置中加上小数点后， 转换成字符串，保存到[D]开始的软元件中。</p><figure><img src="'+vt+'" alt="image-20240620112158961" tabindex="0" loading="lazy"><figcaption>image-20240620112158961</figcaption></figure><p>① 在2～13位数的范围内设定所有位数[S1]。</p><p>② 在0～10位数的范围内设定小数部分位数[S1+1]。但是，请设定为小数部分位数≦(所有位数-3)。</p><p>③ 要转换的32位数据(BIN) 的值在-2,147,483,648～2,147,483,647的范围内。</p><p>④ 转换后的字符串数据会如下所示地保存到[D]开始的软元件编号中。</p><p>在符号中，32位数据(BIN) [S2]为正时保存“空格(20H)”，为负时保存“-(2DH)”；</p><p>• 在小数部分位数[S1+1]中设定为“0”以外的数字时，会自动在小数部分位数+1位数的位置上加上小数 点“. (2EH)”。小数部分位数[S1+1]为“0”时，不附加小数点。</p><p>• 与[S2]的16位数据(BIN)的位数相比， [S1+1]的小数部分位数较多时，会自动向右对齐，在左边附加 “0(30H)”后进行转换；</p><p>• 如果除去小数点和符号以外，所有位数[S1]的位数多于[S2]的32位数据(BIN)的位数时，在符号和数值之 间保存“空格(20H)”；</p><p>• 此外， [S2]的32位数据(BIN)的位数较多时，会错误；</p><p>• 在已转换的字符串的末尾处，会自动保存表示字符串末尾含义的“00H”；</p><p>• 总位数为偶数位数时，在保存末尾字符软元件的后一个软元件中保存“0000H”。此外，当为奇数位数 时，在保存末尾字符的软元件的高字节(8位)中保存“00H”。</p><figure><img src="'+Ut+'" alt="image-20240620112247411" tabindex="0" loading="lazy"><figcaption>image-20240620112247411</figcaption></figure><h4 id="_3-错误" tabindex="-1"><a class="header-anchor" href="#_3-错误" aria-hidden="true">#</a> 3） 错误</h4><p>以下一些情况下会发生运算错误，错误标志位M8067置ON，错误代码保存在D8067中。</p><p>● 所有位数[S1]为如下所示的范围以外时。(错误代码: K6706)</p><figure><img src="'+Vt+'" alt="image-20240620112314747" tabindex="0" loading="lazy"><figcaption>image-20240620112314747</figcaption></figure><p>所有位数[S1+1]为如下所示的范围以外时。(错误代码: K6706)</p><figure><img src="'+Yt+'" alt="image-20240620112328709" tabindex="0" loading="lazy"><figcaption>image-20240620112328709</figcaption></figure><p>所有位数[S1]和小数部分位数[S1+1]的关系非如下所示的范围时。(错误代码: K6706)(所有位数-3)≧小数 部分位数</p><p>● 所有[S1]符号、小数点的位数比[S2]的BIN数据位数少时。(错误代码: K6706)</p><p>● 保存字符串[D]的以后的软元件超出了相应的软元件范围时。(错误代码: K6705)</p><p>当M0为ON时，根据D0、D1的位数指定，将D10中保存的BIN数据(16位)转换成字符串，然后保存到 D20～D23中的程序</p><figure><img src="'+kt+'" alt="image-20240620112355498" tabindex="0" loading="lazy"><figcaption>image-20240620112355498</figcaption></figure><h1 id="时钟指令" tabindex="-1"><a class="header-anchor" href="#时钟指令" aria-hidden="true">#</a> 时钟指令</h1><figure><img src="'+qt+'" alt="Snipaste_2024-06-20_11-27-12" tabindex="0" loading="lazy"><figcaption>Snipaste_2024-06-20_11-27-12</figcaption></figure><table><thead><tr><th style="text-align:center;">指令</th><th style="text-align:center;">功能</th></tr></thead><tbody><tr><td style="text-align:center;">TCMP</td><td style="text-align:center;">时钟数据比较</td></tr><tr><td style="text-align:center;">TZCP</td><td style="text-align:center;">时钟数据区间比较</td></tr><tr><td style="text-align:center;">TADD</td><td style="text-align:center;">时钟数据加法运算</td></tr><tr><td style="text-align:center;">TSUB</td><td style="text-align:center;">时钟数据减法运算</td></tr><tr><td style="text-align:center;">HTOS</td><td style="text-align:center;">时，分，秒数据的秒转换</td></tr><tr><td style="text-align:center;">STOH</td><td style="text-align:center;">秒对时，分，秒数据的转换</td></tr><tr><td style="text-align:center;">TRD</td><td style="text-align:center;">时钟数据读取</td></tr><tr><td style="text-align:center;">TWR</td><td style="text-align:center;">时钟数据写入</td></tr><tr><td style="text-align:center;">HOUR</td><td style="text-align:center;">计时表</td></tr><tr><td style="text-align:center;">TTMR</td><td style="text-align:center;">示教定时器</td></tr><tr><td style="text-align:center;">STMR</td><td style="text-align:center;">特殊定时器</td></tr><tr><td style="text-align:center;">DUTY</td><td style="text-align:center;">产生定时脉冲</td></tr></tbody></table><h3 id="tcmp-时钟数据比较" tabindex="-1"><a class="header-anchor" href="#tcmp-时钟数据比较" aria-hidden="true">#</a> TCMP 时钟数据比较</h3><figure><img src="'+jt+'" alt="image-20240620112804270" tabindex="0" loading="lazy"><figcaption>image-20240620112804270</figcaption></figure><p>该指令是将指定的时、分、秒数值，与内部实时时钟进行比较，输出比较结果。其中：</p><p>S1为指定比较用时间的“时”，范围是0～23：</p><p>S2为指定比较用时间的“分”，范围是0～59；</p><p>S3为指定比较用时间的“秒”，范围是0～59；</p><p>S为实时时钟的时间寄存器的启始地址，通常为时钟读取TRD或MOV指令读取后的存放单元；</p><p>D为比较结果的存放变量启始地址，占用后续共3个变量单元；</p><figure><img src="'+Zt+'" alt="Snipaste_2024-06-20_11-28-40" tabindex="0" loading="lazy"><figcaption>Snipaste_2024-06-20_11-28-40</figcaption></figure><p>当M12 ON时，M20~M22其中之一会ON。</p><p>当M12由ON变OFF时，不执行TCMP指令，M20/M21/M22保持M12=OFF以 前的状态不变。要清除M20~M22的比较结果可用RST或者ZRST对 M20~M22进行清除。</p><p>若需要得到≧、≦、≠的结果时，可将M20~M22 串并联即可取得。</p><h3 id="htos-时分秒数据的秒转换-stoh秒对时、分、秒数据的转换" tabindex="-1"><a class="header-anchor" href="#htos-时分秒数据的秒转换-stoh秒对时、分、秒数据的转换" aria-hidden="true">#</a> HTOS 时分秒数据的秒转换/STOH秒对时、分、秒数据的转换</h3><figure><img src="'+Qt+'" alt="image-20240620113021515" tabindex="0" loading="lazy"><figcaption>image-20240620113021515</figcaption></figure><p>1） 16位指令</p><p>将[S，S+1，S+2]的时间(时刻)数据(时、分、秒)换算成秒后，将结果保存到D中。</p><p>小时的范围：0-9</p><p>分钟的范围：0-59</p><p>秒钟的范围：0-59</p><p>2） 32位指令</p><p>将[S，S+1，S+2]的时间(时刻)数据(时、分、秒)换算成秒后，将结果保存到[D，D+1]中。</p><p>小时的范围：0-32767</p><p>分钟的范围：0-59</p><p>秒钟的范围：0-59</p><p>16位指令和32指令，出现以下情况，指令报错，不执行，相应的错误码存储于D8067。</p><p>• 16位指令和32位指令操作数超范围，报6705；</p><p>• 16位指令转换结果大于32767，报6706；</p><p>• S、S+1、S+2超过设定范围时，报6706。</p><figure><img src="'+Gt+'" alt="image-20240620113147612" tabindex="0" loading="lazy"><figcaption>image-20240620113147612</figcaption></figure><h3 id="trd-时钟数据读取" tabindex="-1"><a class="header-anchor" href="#trd-时钟数据读取" aria-hidden="true">#</a> TRD-时钟数据读取</h3><p>该指令是读取PLC内置的实时时钟的年/月/日/时/分/秒/星期，将该7个数据保存于指定的寄存器中。 其中：D为保存读取时间的启始存储单元，占用共7个连续的变量单元，地址由小到大依次存储：年、月、 日、时、分、秒、星期等数据。</p><figure><img src="'+Jt+'" alt="image-20240617133432563" tabindex="0" loading="lazy"><figcaption>image-20240617133432563</figcaption></figure><figure><img src="'+$t+'" alt="image-20240617133553938" tabindex="0" loading="lazy"><figcaption>image-20240617133553938</figcaption></figure><p>注：一般情况下要使用可编程控制器的时钟，先用TDR指令将时钟读出来放到D寄存器里再使用，不要直接 使用D8013~D8019的值.</p><h3 id="hour计时表" tabindex="-1"><a class="header-anchor" href="#hour计时表" aria-hidden="true">#</a> HOUR计时表</h3><figure><img src="'+te+'" alt="image-20240620113245374" tabindex="0" loading="lazy"><figcaption>image-20240620113245374</figcaption></figure><p>该指令是记录驱动条件满足的累加时间，当达到设定的时间后，令指定输出有效。其中：</p><p>S为设定时间，单位为“小时”，当累加时间达到该设定值后，令输出有效；</p><p>D1累计时间启始单元；</p><p>D2计时到达告警输出变量单元，当计时到达设定值后，该指定单元状态有效。</p><p>16bit时：D1设置范围K0~K32,767，单位：小时。D1+1为未满1个小时的现在时间值，设置范围 K0~K3599，单位：秒。此时的D1共占用2个单元，</p><p>32bit时：D1+1、D1设置范围K0~K2147483647，单位：小时。D1+2为未满1个小时的现在时间值，设置范 围K0~K3599，单位：秒。此时的D1共占用4个单元。</p><p>指令D1计时没有负数，若D1制定为非停电保持的寄存器区域，则在PLC由STOP到RUN或者在掉电的时候会 将D1的值清零。若需要在PLC掉电的情况下仍能保持当前值数据，请将D1指定为停电保持区域的寄存器。</p><figure><img src="'+ee+'" alt="image-20240620113335793" tabindex="0" loading="lazy"><figcaption>image-20240620113335793</figcaption></figure><p>当M200＝ON时，累计该状态的持续时间，将时记录在D300中，将不满1小时的秒记录在D301中，当D300 累计时间达到2000小时后，Y10输出状态为ON。计时条件满足时，到达S指定数值后，累计计时仍继续进 行，读数会继续增大；现在时间值D300到达最大数值32,767小时、D301达到3，599秒时会停止计时测量， 要重新计时须将现在时间值D300、301清除为0。</p><h3 id="ttmr示教定时器" tabindex="-1"><a class="header-anchor" href="#ttmr示教定时器" aria-hidden="true">#</a> TTMR示教定时器</h3><figure><img src="'+ie+'" alt="image-20240620113410265" tabindex="0" loading="lazy"><figcaption>image-20240620113410265</figcaption></figure><p>该指令的功能是将指定输入端口的按键保持时间乘以n倍数后存入变量D，一般用于参数设定。其中： D为按键保持时间以秒为单位乘以n倍数后的乘积，按键释放后D内容没有变化；而D＋1单元则用于保存按键 的按压时间，按键释放后D＋1的内容被复位为0，D＋1的时间单位为100ms；</p><p>n为倍数设定，注意实际倍数为10n计算方式，(n=0~2)</p><p>n＝K0时，实际倍数为×1；</p><p>n＝K1时，实际倍数为×10；</p><p>n＝K2时，实际倍数为×100。</p><figure><img src="'+ae+'" alt="image-20240620113449810" tabindex="0" loading="lazy"><figcaption>image-20240620113449810</figcaption></figure><p>假如X10的按键保持时间为T秒，D10、D11与n三者之间的关系如下：</p><figure><img src="'+ne+'" alt="image-20240620113503729" tabindex="0" loading="lazy"><figcaption>image-20240620113503729</figcaption></figure><h3 id="stmr特殊定时器" tabindex="-1"><a class="header-anchor" href="#stmr特殊定时器" aria-hidden="true">#</a> STMR特殊定时器</h3><figure><img src="'+re+'" alt="image-20240620113640651" tabindex="0" loading="lazy"><figcaption>image-20240620113640651</figcaption></figure><p>当驱动条件成立时，可以获得以定时器S1的 定时值S2为参考的断电延时断开、断电接通延时断开、通电接 通延时断开、通电延时接通断电延时断开等四种触点</p><p>该指令的功能是根据指令能流，产生4种延时动作的专用指令。其中：</p><p>S用于产生延迟动作的计时器序号，可用T0~T199；</p><p>m为延时设定值，单位为100ms，设定值范围为K1～K32767；</p><p>D为延时动作输出元件的起始编号，共占用4个连续单元。</p><h4 id="使用注意事项" tabindex="-1"><a class="header-anchor" href="#使用注意事项" aria-hidden="true">#</a> 使用注意事项：</h4><p>在本指令中使用的计时器不得再用于其他指令中重复使用，输出也不可重复使用。</p><figure><img src="'+ge+'" alt="image-20240620113740062" tabindex="0" loading="lazy"><figcaption>image-20240620113740062</figcaption></figure><h3 id="duty产生定时脉冲" tabindex="-1"><a class="header-anchor" href="#duty产生定时脉冲" aria-hidden="true">#</a> DUTY产生定时脉冲</h3><figure><img src="'+se+'" alt="image-20240620113756294" tabindex="0" loading="lazy"><figcaption>image-20240620113756294</figcaption></figure><p>将指定次数的运算周期作为1个周期，产生这样定时信号的指令。</p><p>1）定时时钟是按照n1个扫描周期ON，n2个扫描周期OFF的方式进行ON/OFF输出的。</p><p>2）定时时钟输出的目标地址，请指定M8335～M8339，与之对应的扫描数的计数值被保存到 D8335～D8339中。</p><p>3）扫描数的计数值D8335～D8339，在计数值变为n1＋n2时，或者在输入能流再次由OFF→ON时被复位。 执行过程中断开输入能流也不停止。</p><p>4）n1=0，n2≥0时，[D]固定为OFF；n1＞0，n2=0时，[D]固定为ON；</p><p>● 以下一些情况下会发生运算错误，错误标志位M8067置ON，错误代码保存在D8067中。</p><p>1）n1、n2超范围时，报6706号错误；</p><p>2）目标地址[D]在M8335～M8339以外范围时，报6705号错误；</p><p>3）多个DUTY指令使用了相同的定时时钟输出目标地址，报6711号错误</p><p>使M8335输出周期为200个扫描周期占空比为1:1的方波</p><figure><img src="'+de+'" alt="image-20240620113905516" tabindex="0" loading="lazy"><figcaption>image-20240620113905516</figcaption></figure><h1 id="通信" tabindex="-1"><a class="header-anchor" href="#通信" aria-hidden="true">#</a> 通信</h1><table><thead><tr><th style="text-align:center;">指令</th><th style="text-align:center;">作用</th></tr></thead><tbody><tr><td style="text-align:center;">RS</td><td style="text-align:center;">串行数据传送</td></tr><tr><td style="text-align:center;">MODBUS</td><td style="text-align:center;">MODBUS通讯</td></tr><tr><td style="text-align:center;">CCD</td><td style="text-align:center;">校验码</td></tr><tr><td style="text-align:center;">CRC</td><td style="text-align:center;">CRC校验码计算</td></tr><tr><td style="text-align:center;">LRC</td><td style="text-align:center;">LRC校验码计算</td></tr></tbody></table><h3 id="rs-串行数据传送" tabindex="-1"><a class="header-anchor" href="#rs-串行数据传送" aria-hidden="true">#</a> RS 串行数据传送</h3><figure><img src="'+le+'" alt="image-20240627134314359" tabindex="0" loading="lazy"><figcaption>image-20240627134314359</figcaption></figure><p>​ 该指令是一个通讯收发指令，将指定寄存器区域的数据，自动向串口依次发送，将串口接收到的数据存放到 指定区域，相当于用户程序直接访问通讯缓冲区，借助用户程序对通讯收发缓冲区的处理，实现自定义协议 的通讯。</p><p>RS指令半双工/全双工模式由D8120的Bit10设定。用户程序可以写多条RS指令，但是同一时间只能有一条 RS指令被驱动。在每次驱动RS指令前，必须将M8122置位；</p><h4 id="重要的参数" tabindex="-1"><a class="header-anchor" href="#重要的参数" aria-hidden="true">#</a> 重要的参数</h4><table><thead><tr><th>数据</th><th>功能</th><th>数据</th><th>功能</th></tr></thead><tbody><tr><td>M8121</td><td>RS 指令 - 发送等待中</td><td>D8120</td><td>通讯格式设置，界面配置设定，默认为 0</td></tr><tr><td>M8122</td><td>Modbus - 通讯执行状态 <br>RS 指令 - 发送标志</td><td>D8121</td><td>通讯站号设置，界面配置设定，默认为 1</td></tr><tr><td>M8123</td><td>Modbus - 通讯错误标志 <br>RS 指令 - 接收完成标志</td><td>D8122</td><td>下载、HMI 监控协议 - 通讯格式设置 <br>RS 指令 - 传送剩余数据数量</td></tr><tr><td>M8124</td><td>RS 指令 - 接收中</td><td>D8123</td><td>RS 指令 - 接收到的数据数量</td></tr><tr><td>M8129</td><td>超时判断</td><td>D8124</td><td>RS 指令 - 起始字符 STX</td></tr><tr><td>D8125</td><td>RS 指令 - 终止字符 ETX</td><td>D8126</td><td>通讯协议设置，界面配置设定，默认为 0</td></tr><tr><td>D8127</td><td>计算机链接协议 - 接通要求数据起始地址号</td><td>D8128</td><td>Modbus - 通讯出错站号 计算机链接协议 - 接通要求发送数据数量</td></tr><tr><td>D8129</td><td>通讯超时时间判断，界面配置设定，默认为 10 （100ms）</td><td></td><td></td></tr></tbody></table><h4 id="一个简单的示例" tabindex="-1"><a class="header-anchor" href="#一个简单的示例" aria-hidden="true">#</a> 一个简单的示例</h4><figure><img src="'+pe+'" alt="image-20240627135151174" tabindex="0" loading="lazy"><figcaption>image-20240627135151174</figcaption></figure><figure><img src="'+ce+'" alt="image-20240627135200571" tabindex="0" loading="lazy"><figcaption>image-20240627135200571</figcaption></figure><figure><img src="'+oe+'" alt="Snipaste_2024-06-27_13-52-14" tabindex="0" loading="lazy"><figcaption>Snipaste_2024-06-27_13-52-14</figcaption></figure><h3 id="modbus-modbus通讯" tabindex="-1"><a class="header-anchor" href="#modbus-modbus通讯" aria-hidden="true">#</a> MODBUS MODBUS通讯</h3><figure><img src="'+fe+'" alt="image-20240627135514635" tabindex="0" loading="lazy"><figcaption>image-20240627135514635</figcaption></figure><p>为了直观方便，在标准MODBUS主站协议通讯中的RS指令我们可以用MODBUS来代替。</p><figure><img src="'+me+'" alt="image-20240627135552301" tabindex="0" loading="lazy"><figcaption>image-20240627135552301</figcaption></figure><p>该指令用于具有MODBUS协议从站设备（如MD320/300/280等系列变频器）进行通讯，将非常方便，指令 举例一中，PLC不断的读#1从机内，地址为100的寄存器，数据存于D10单元。</p><p>使用说明： 程序中可多次使用MODBUS指令，和标准RS不同，MODBUS协议中的MODBUS指令可有多处MODBUS指令 被同时使能。</p><p>和RS指令相比，可省略对M8122的置ON，可省略对M8123的复位。</p><h3 id="ccd-校验码" tabindex="-1"><a class="header-anchor" href="#ccd-校验码" aria-hidden="true">#</a> CCD 校验码</h3><figure><img src="'+he+'" alt="image-20240627135840686" tabindex="0" loading="lazy"><figcaption>image-20240627135840686</figcaption></figure><p>当驱动条件成立时，将以S为首址的K个数据进行求和校验，结果存放到D；异或校验，结果存放到D+1</p><p>M8161标志决定了变量宽度模式，当M8161=OFF时，为16bit模式，即变量的高字节和低字节都参与运算； 当M8161=ON时，为8bit模式，只有变量的低字节参与运算，高字节的内容被丢弃，因此实际使用变量区域 的长度增加，见下例图；</p><p>“累加和”就是将指定的n个变量直接相加的计算结果；</p><p>“异或”逻辑运算的方法则是：</p><p>1）将参与运算的变量都换算为二进制数；</p><p>2）先统计每个变量的bit0为1的个数，若为偶数个，则异或结果的bit0为0；若为奇数个，则异或结果的 bit0为1；</p><p>3）再统计每个变量的bit1为1的个数，若为偶数个，则异或结果的bit1为0；若为奇数个，则异或结果的 bit1为1；</p><p>4）依次类推，逐个计算bit2～bit7，所得的二进制数换算为HEX数值即为异或结果（或称极性值）。</p><figure><img src="'+xe+'" alt="Snipaste_2024-06-27_13-59-59" tabindex="0" loading="lazy"><figcaption>Snipaste_2024-06-27_13-59-59</figcaption></figure><p>RS/HEX/ASCI/CCD等指令共用M8161模式标志，编程时注意该标志的处理。</p><h3 id="crc校验码计算" tabindex="-1"><a class="header-anchor" href="#crc校验码计算" aria-hidden="true">#</a> CRC校验码计算</h3><p>​ <img src="'+ye+'" alt="image-20240627140028839" loading="lazy"></p><p>16位转换模式：当M8161置OFF时，以字节为单位，提取以[S]软元件开始的高8位和低8位数据共n点参与 CRC运算，结果存储于[D]元件的高8位和低8位中。</p><p>8位转换模式：当M8161置ON时，以字节为单位，提取以[S]软元件开始的低8位数据共n点参与CRC运算， 结果的低8位存储于[D]软元件，高8位存储于[D+1]。</p><p>以下一些情况会报故障。出错标志位M8067置ON，同时出错代码保存于D8067。</p><p>n超范围时，报6706号错误。</p><figure><img src="'+ue+'" alt="image-20240627140118849" tabindex="0" loading="lazy"><figcaption>image-20240627140118849</figcaption></figure><figure><img src="'+be+'" alt="image-20240627140128797" tabindex="0" loading="lazy"><figcaption>image-20240627140128797</figcaption></figure><h3 id="lrc-校验码计算" tabindex="-1"><a class="header-anchor" href="#lrc-校验码计算" aria-hidden="true">#</a> LRC 校验码计算</h3><figure><img src="'+_e+'" alt="image-20240627140151428" tabindex="0" loading="lazy"><figcaption>image-20240627140151428</figcaption></figure><p>16位转换模式：当M8161置OFF时，以字节为单位，提取以[S]软元件开始的高8位和低8位数据共n点参与 LRC运算，结果存储于[D]元件的高8位和低8位中。</p><p>8位转换模式：当M8161置ON时，以字节为单位。提取以[S]软元件开始的低8位数据共n点参与LRC运算，结 果的低8位存储于[D]软元件，高8位存储于[D+1]。</p><p>以下一些情况会报故障。出错标志位M8067置ON，同时出错代码保存于D8067。</p><p>• n超范围时，报6706号错误；</p><p>• n为奇数时，报6706号错误。</p><figure><img src="'+De+'" alt="image-20240627140222003" tabindex="0" loading="lazy"><figcaption>image-20240627140222003</figcaption></figure><figure><img src="'+Se+'" alt="image-20240627140239474" tabindex="0" loading="lazy"><figcaption>image-20240627140239474</figcaption></figure><p>2） 8位模式（M8161 = ON）</p><figure><img src="'+Oe+'" alt="image-20240627140251504" tabindex="0" loading="lazy"><figcaption>image-20240627140251504</figcaption></figure><p>LRC 校验码：由通信地址到数据内容结束加起来的值取2 的补码即为校验码。</p><p>例如： 01 H + 03 H + 21 H + 02 H + 00 H + 02 H=29 H，然后取2 的补码=D7H（即ASCII码为44H与37H）。</p><h1 id="外设" tabindex="-1"><a class="header-anchor" href="#外设" aria-hidden="true">#</a> 外设</h1><h2 id="pid指令" tabindex="-1"><a class="header-anchor" href="#pid指令" aria-hidden="true">#</a> PID指令</h2><h3 id="pid-pid运算" tabindex="-1"><a class="header-anchor" href="#pid-pid运算" aria-hidden="true">#</a> PID PID运算</h3><figure><img src="'+Me+'" alt="image-20240627140404481" tabindex="0" loading="lazy"><figcaption>image-20240627140404481</figcaption></figure><p>完成PID运算，用于闭环控制系统参数的控制。</p><p>1） PID运算功能选择</p><figure><img src="'+Ne+'" alt="image-20240627140458810" tabindex="0" loading="lazy"><figcaption>image-20240627140458810</figcaption></figure><p>选择不同的功能指令，S3单元对应不同的意义。</p><p>2） 增量式 PID 指令 （S3+1 选择 0x00**）</p><p>就S3启始的各单元参数值的功能和设定方法说明如下表：</p><figure><img src="'+we+'" alt="image-20240627140525495" tabindex="0" loading="lazy"><figcaption>image-20240627140525495</figcaption></figure><p>3） 位置式 PID 指令（S3+1 选择 0x01**）</p><figure><img src="'+ze+'" alt="image-20240627140542838" tabindex="0" loading="lazy"><figcaption>image-20240627140542838</figcaption></figure><figure><img src="'+Ce+'" alt="Snipaste_2024-06-27_14-05-51" tabindex="0" loading="lazy"><figcaption>Snipaste_2024-06-27_14-05-51</figcaption></figure><p>注： ※1：当积分上下限均设置为0时，积分上下限将按照上限32737、下限-32768生效。 ※2：(S3+16) = 0时，(S3+17)到(S3+19)没有意义。</p><p>位置式 PID 运算原理</p><p>PID 运算公式： u(k) = Kp * e(k) + Ki * T * ∑ e(i) + ( Kd / T ) * [Pv(k) – Pv(k-1) ]</p><figure><img src="'+Be+'" alt="image-20240627140634401" tabindex="0" loading="lazy"><figcaption>image-20240627140634401</figcaption></figure><p>设定正向时：e(k) = Sv(k) - Pv(k)</p><p>设定反向时：e(k) = Pv(k) - Sv(k)</p><p>7） 指令举例：</p><figure><img src="'+Fe+'" alt="image-20240627140720310" tabindex="0" loading="lazy"><figcaption>image-20240627140720310</figcaption></figure><figure><img src="'+Re+'" alt="image-20240627140730166" tabindex="0" loading="lazy"><figcaption>image-20240627140730166</figcaption></figure><h2 id="其他外设指令" tabindex="-1"><a class="header-anchor" href="#其他外设指令" aria-hidden="true">#</a> 其他外设指令</h2><h2 id="数码管" tabindex="-1"><a class="header-anchor" href="#数码管" aria-hidden="true">#</a> 数码管</h2><h3 id="segd七段译码" tabindex="-1"><a class="header-anchor" href="#segd七段译码" aria-hidden="true">#</a> SEGD七段译码</h3><figure><img src="'+Ie+'" alt="image-20240619140617574" tabindex="0" loading="lazy"><figcaption>image-20240619140617574</figcaption></figure><p>该指令是数据源的低4位，翻译成7段显示码，存放到目的变量的低8位中。</p><p>操作是，当X20为ON时，将D0内数据低4位译码后，输出到Y10～Y17端口。 翻译用的对应表如下表。该表格不需用户准备，PLC系统内部已具备该对照表</p><figure><img src="'+Te+'" alt="image-20240619140656813" tabindex="0" loading="lazy"><figcaption>image-20240619140656813</figcaption></figure><h3 id="segl七段码时分显示" tabindex="-1"><a class="header-anchor" href="#segl七段码时分显示" aria-hidden="true">#</a> SEGL七段码时分显示</h3><figure><img src="'+He+'" alt="image-20240619140725191" tabindex="0" loading="lazy"><figcaption>image-20240619140725191</figcaption></figure><p>利用8个或12个Y端口，用于4位或8位七段锁存数码管的显示驱动，显示方式为扫描驱动方式</p><figure><img src="'+Ae+'" alt="image-20240619140827155" tabindex="0" loading="lazy"><figcaption>image-20240619140827155</figcaption></figure><p>对应的硬件接线如右图，在第一组数码管上显示D0的内容，在第二组数码管上显示D1的内容，若D0或D1的 读数超过9999，程序运行就会出错：</p><p>接线图中所使用的数码管，自带显示数据锁存、7段译码和驱动、负逻辑型（输入端口为低电平时，表示输 入的数据为1，或被选通）的7段数码显示管。显示处理中，PLC的Y4~Y7端口会自动循环扫描，每次只有 1个端口为ON，作为位选通信号，此时Y0~Y3口上的数据即为送给对应位的BCD码数据，当位选通信号由 ON→OFF时，即被锁存到数码管内的锁存器中，经过内部的译码和驱动后，数码管将数字显示出来。PLC系 统依次将Y4～Y7循环作同样处理，直到将4位都处理完毕。同样的道理，Y10~Y13是第二组4位数码管的数据 输出端口，共用Y4~Y7的位选通线，处理方法相同，两组的显示处理是同时进行的。范例中若D0=K2468， D1=K9753，则第一组将会显示2 4 6 8，第二组显示9 7 5 3。</p><p>完成一次显示刷新需要12个扫描周期，处理完成后，M8029标志置ON。</p><p>n的选择：根据可编程控制器的正负逻辑、七段码的正负逻辑等因素，按以下原则选择：</p><p>一组4位数的时候n=0<sub>3。二组4位数的时候n=4</sub>7</p><figure><img src="'+Pe+'" alt="image-20240619140910660" tabindex="0" loading="lazy"><figcaption>image-20240619140910660</figcaption></figure><h3 id="absd-凸轮控制绝对方式" tabindex="-1"><a class="header-anchor" href="#absd-凸轮控制绝对方式" aria-hidden="true">#</a> ABSD 凸轮控制绝对方式</h3><figure><img src="'+Le+'" alt="image-20240627141559118" tabindex="0" loading="lazy"><figcaption>image-20240627141559118</figcaption></figure><p>当驱动条件成立时，将以S1为首址所存储的数据表格数据与计数器S2中的当前数据进行比较，对以D为首址 的K个位元件进行ON/OFF控制</p><p>该指令完成的操作是多区段比较，用于实现凸轮控制，比较用的表格、计数器等均按绝对方式设置。该指 令是主程序中扫描执行，比较结果受扫描时间的滞后影响。当使用32bit指令时，S1、S2、D均指向32bit变 量，n也按32bit变量宽度进行计算。</p><figure><img src="'+Ke+'" alt="image-20240627141930966" tabindex="0" loading="lazy"><figcaption>image-20240627141930966</figcaption></figure><figure><img src="'+Xe+'" alt="Snipaste_2024-06-27_14-23-20" tabindex="0" loading="lazy"><figcaption>Snipaste_2024-06-27_14-23-20</figcaption></figure><p>使用说明：</p><p>• ABSD指令执行前，应给相关表格的各变量用MOV指令赋值；</p><p>• 即使DABSD指令中采用了高速指令，比较输出D也受用户程序扫描时间的滞后影响，对于需要及时响应的应用，可 采用HSZ高速比较指令。</p><h3 id="incd凸轮控制增量方式" tabindex="-1"><a class="header-anchor" href="#incd凸轮控制增量方式" aria-hidden="true">#</a> INCD凸轮控制增量方式</h3><figure><img src="'+Ee+'" alt="image-20240627142352613" tabindex="0" loading="lazy"><figcaption>image-20240627142352613</figcaption></figure><p>当驱动条件成立时，将以S1为首址所存储的数据表格数据与计数器S2中的当前数据进行比较，对以D为首址 的K个位元件进行ON/OFF控制。</p><p>该指令完成的操作是多区段比较，用于实现凸轮控制，比较用的表格、计数器等均按增量方式设置。该指令 是主程序中扫描执行，比较结果受扫描时间的滞后影响。</p><p>n 的组数比较完成时，指令执行完毕标志M8029会置ON。</p><figure><img src="'+We+'" alt="image-20240627142553577" tabindex="0" loading="lazy"><figcaption>image-20240627142553577</figcaption></figure><p>若已给相关变量按如下赋值，当X10＝ON时，执行结果如下图</p><figure><img src="'+ve+'" alt="Snipaste_2024-06-27_14-26-05" tabindex="0" loading="lazy"><figcaption>Snipaste_2024-06-27_14-26-05</figcaption></figure><p>使用说明：</p><p>• INCD指令执行前，应给相关表格的各变量用MOV指令赋值；</p><p>• 比较输出也受用户程序扫描时间的滞后影响，对于需要及时响应的应用，可采用HSZ高速比较指令；</p>',522)]))}const je=e(Ue,[["render",Ve],["__file","02h3u-基础指令.html.vue"]]);export{je as default};
